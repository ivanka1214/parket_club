if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cw,M,bP){var F=function(){var e=cw.maCookiePrefix;return typeof e==="string"?e:"roistat"};var aa=F();var bK=function(){return cw[aa+"Host"]};var bB=false,ab="316",B=13,c6=42,x=bK(),aP="0.2",ao="1.0",dd="roistat_visit_cookie_expire",cm="roistat_visit",aV="roistat_cookies_to_resave",cd="roistat_guid",a0="roistat_next_guid",a6="roistat_first_visit",av="roistat_is_need_listen_requests",bn="roistat_is_save_data_in_cookie",dI="roistat_phone",E="roistat_externalCountersEnabled",aO="roistat_referrer",dg="roistat_marker",bo="roistat_marker_old",bI="roistat_ab",ak="roistat_previous_ab",V="roistat_ab_submit",bR=35*24*60*60,cT="rs",N="roistat",ah="leadhunter_expire",T=5*60*60,bQ="roistat_leadHunterEnabled",s="roistat_leadHunterTargetPagesMap",cL="roistat_leadHunterCallbackSettings",a4="roistat_leadHunterScriptId",ac="roistat_isleadHunterScriptIdActive",bl="roistat_multiwidgetEnabled",cc="roistat_multiwidgetVKEnabled",c3="roistat_multiwidgetVKLink",U="roistat_multiwidgetFBEnabled",dm="roistat_multiwidgetFBLink",cO="roistat_multiwidgetTelegramEnabled",bz="roistat_multiwidgetTelegramLink",cZ="roistat_multiwidgetWhatsAppEnabled",bO="roistat_multiwidgetWhatsAppLink",dQ="roistat_multiwidgetViberEnabled",cR="roistat_multiwidgetViberLink",at="roistat_multiwidgetSettings",c0="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,c8={expires:d,path:"/"},ap="roistat-promo",ay="roistat-phone",L="roistat-phone-country",aq="roistat-phone-region",O="roistat-phone-number",dA="roistat-phone-tel",bY="country",aX="region",bs="number",ch="tel",Z="get-phone",o="roistat_call_tracking",ad="roistat-js-script",bG="roistat_phone_replacement",bt="roistat_phone_script_data",c5="roistat-visit-id",a7="roistat_metrika_counter_id",k="roistat_marker_from_referrer",bF="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bU="roistat_emailtracking_emails",m="roistat_geo_data",aZ="roistat_promo_code",dC="roistat_proxy_forms",da="roistat_isMultiDomain",cV=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cn="roistat_debug",ba="roistat_settings_saved",cC="nocookie",a8=["yandex.ru"],aM="beta_test",cP="roistat_settings_version",ca="roistat-leadhunter-form-template",bE="roistat-leadhunter-pulsator-template",b9="roistat-leadhunter-pulsator-settings",bA="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",dh="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",af="roistat_last_settings_update_time",cJ="roistat_authorized_client",aI="roistat_params",dp=50,aW="mobile",q="tablet",b6="desktop",b2=500,dw=1024;
var cq="ru",aD="en",cG={ru:["Русский","Russian"],en:["Английский","English"]},al,t;var cb={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var co={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var c7={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cw.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cw.roistatAlreadyStarted=true;if(cw.roistatCookieDomain){c8.domain=cw.roistatCookieDomain}var cA=function(){return new Date().getTime()};var A=function(dR){var dS=cA()-bx;var e="["+(dS/1000)+"s] "+dR;bq=bq+"; "+e;if(typeof console!=="undefined"&&console.log&&bB){console.log(e)}};var v=function(e){var dS=e.split(".");var dR=dS.length;if(dR<2){return e}return dS[dR-2]+"."+dS[dR-1]};var di="cllctr."+v(x);cw.roistat={version:ab,getSource:function(){return co.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){co.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cM(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bC(e)},disableCallTracking:function(){cb.callTrackingEnabled=false},setCallTrackingManualMode:function(){cb.callTrackingManual=true},setJSONPRequestTimeout:function(e){cb.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){A("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,dR){if(!co.isAbTestsApplied&&typeof dR==="function"){c7.onAbTestsApplied[e]=dR}},authClientById:function(e){aK(e,bP)},authClientByEmail:function(e){aK(bP,e)},setDeviceParams:function(){if(!co.isVisitProcessed){A("Visit is not processed, return");return}var e=p();if(e<=0){A("Invalid arguments, return");return}var dS=cw.screen||null;var dR=cw.navigator||null;var dU={screenWidth:dS!==null?(dS.width||null):null,screenHeight:dS!==null?(dS.height||null):null,screenIsExtended:dS!==null?(dS.isExtended||null):null,screenPixelDepth:dS!==null?(dS.pixelDepth||null):null,screenColorDepth:dS!==null?(dS.colorDepth||null):null,deviceMemory:dR!==null?(dR.deviceMemory||null):null,hardwareConcurrency:dR!==null?(dR.hardwareConcurrency||null):null,language:dR!==null?(dR.language||null):null,maxTouchPoints:dR!==null?(dR.maxTouchPoints||null):null,platform:dR!==null?(dR.platform||null):null};var dT=S()+"/update-visit-by-device-params?visit="+e+"&v="+ab;for(var dW in dU){if(!dU.hasOwnProperty(dW)){continue}var dV=dU[dW];if(dV===null){continue}dT+="&"+dW+"="+encodeURIComponent(dV)}a5(dT)},setRoistatParams:function(dX,dW,dU,dT,dS){var dY=dX!==null&&dN(dX)?dX:{roistat_param1:dX,roistat_param2:dW,roistat_param3:dU,roistat_param4:dT,roistat_param5:dS};if(!co.isVisitProcessed){A("Visit is not processed, return");return}var dV=p();if(dV<=0){A("Invalid arguments, return");return}var dZ=bd(dY);if(!aY(dZ)){A("Has no valid roistat params for visit update, return");return}bk(dZ);var e=S()+"/update-visit-by-params?visit="+dV+"&v="+ab;for(var dR in dZ){if(!Object.prototype.hasOwnProperty.call(dZ,dR)){continue}e+="&"+dR+"="+encodeURIComponent(dZ[dR])}a5(e)}};var bd=function(dS){var e={};for(i=1;i<=dp;i++){var dR="roistat_param"+i;if(!Object.prototype.hasOwnProperty.call(dS,dR)){continue}var dT=dS[dR];if(dT!==bP&&dT!==null&&dT.toString().length>0){e[dR]=dT}}return e};var bk=function(dS){var dU=aI;var dR=ct.get(dU);var e=JSON.stringify(dS);var dT=dR===e;if(e!=null&&e.length>0){c1(dS)}if(dT){A("Params already updated, return");return}ct.set(dU,e)};var c1=function(dR){for(var e=1;e<=dp;e++){var dS="roistat_param"+e;if(dR.hasOwnProperty(dS)){cw.roistat.page.params[dS]=dR[dS]}}};var aK=function(e,dT){if(!co.isVisitProcessed){A("Visit is not processed, return");
return}var dU=e!==bP&&e.length>0,dX=dT!==bP&&dT.length>0;if(!dU&&!dX){A("Invalid client params, return");return}var dV=p();if(dV<=0){A("Invalid arguments, return");return}var dW=cJ,dY=ct.get(dW),dS=dU?e:dT;if(dY===dS){A('Client "'+dS+'" is already authorized, return');return}A("Auth client: "+dS);ct.set(dW,dS);var dR=S()+"/update-visit-by-client?visit="+dV+"&v="+ab;if(dU){dR+="&client_id="+encodeURIComponent(e)}if(dX){dR+="&client_email="+encodeURIComponent(dT)}a5(dR)};var dr=function(dT,dR){var dS=dT.length;for(var e=0;e<dS;e++){if(dR===dT[e]){return true}}return false};var ai=function(){return j(aM)>0};var z=function(){return cw.location.protocol+"//"+cw.location.host+cw.location.pathname};var H=function(){if(dK()){return aW}if(dy()){return q}return b6};var dK=function(){return cw.innerWidth<=b2};var dy=function(){return cw.innerWidth>b2&&cw.innerWidth<=dw};var be=function(){return cw[aa+"ProjectId"]};var cQ=function(){var e=be().replace(/\D/g,"");A("getProjectHash: "+e);return e};var bv=function(e){var dR=cQ();return dr(e,dR)};var cY=function(e){return JSON.parse(JSON.stringify(e))};var bJ=function(){var dR=cY(c8),e=parseInt(ct.get(dd));dR.expires=e>0?e:d;return dR};var cM=function(e){if(!co.isVisitProcessed){c7.onVisitProcessed.push(e)}else{e()}};var c2=function(){co.isVisitProcessed=true;A("[Roistat] visit id set. Processing callbacks");var dR=c7.onVisitProcessed.length;for(var e=0;e<dR;e++){c7.onVisitProcessed[e]()}if(cw.roistatVisitCallback!==bP){cw.roistatVisitCallback(cw.roistat.getVisit())}};var bC=function(e){c7.onCallTrackingPhoneReceived.push(e)};var dn=function(){var dR=c7.onCallTrackingPhoneReceived.length;for(var e=0;e<dR;e++){c7.onCallTrackingPhoneReceived[e]()}};var aE=function aE(e){c7.onSPAPageChanged.push(e)};var ck=function ck(){A("[Roistat] SPA page changed. Processing callbacks");var dR=c7.onSPAPageChanged.length;for(var e=0;e<dR;e++){c7.onSPAPageChanged[e]()}};var ar=function(dU,dT){var dS=dU.className.split(" "),dR=false,e;for(e=0;e<dS.length;e++){if(dS[e]===dT){dR=true;break}}if(!dR){dS.push(dT);dU.className=dS.join(" ")}};var cl=function(dT,dS){var dR=dT.className.split(" "),e;for(e=0;e<dR.length;e++){if(dR[e]===dS){dR.splice(e,1);dT.className=dR.join(" ");break}}};var aL=function(dS){try{return decodeURIComponent(dS)}catch(dT){var dR;dR=y(dS);if(dR===null){return dS}return dR}};var b5={visitor_uid:function(){A("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dN(cw.AMOPIXEL_IDENTIFIER)||!Y(cw.AMOPIXEL_IDENTIFIER.getVisitorUid)){A("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!a9(e)){A("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return ae("yclid",false)}};var aH=function(){for(var dR in b5){var e=b5[dR]();if(e===null){continue}dB(dR,e,c8)}};var bp=function(){return["_ym_uid","_ga"].concat(P(b5))};var y=function(dV){var dU={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dS="";var dT=0;while(dT<dV.length){var dR=dV.substring(dT,dT+3);if(Object.prototype.hasOwnProperty.call(dU,dR)){dS+=dU[dR];dT+=3}else{dS+=dV.substring(dT,dT+1);dT++}}try{return decodeURIComponent(dS)}catch(dW){return null}};cw.roistatVersion=ab;var bH,an=bv(["860340978620700251","93600421474928811290145"]),cg=bv(["860340978620700251","74438933277334717963675"]),K=bv(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),l,cE=true,cK=decodeURIComponent(M.location.href),bq="",a3="",bx=new Date().getTime(),df=false,cU=cw.roistatPhonePrefix?cw.roistatPhonePrefix:"",dJ=cw.roistatPhonePrefixBind?cw.roistatPhonePrefixBind:"",W=cw.roistatCalltrackingScripts&&cw.roistatCalltrackingScripts.join?cw.roistatCalltrackingScripts.join(","):"";var cs=function(e){if(!K){return e}var dR=e.replace(/^roistat[_-]/,"");return aa+"_"+dR};var j,dB,dO;j=cw.roistatGetCookie=function(e){var dR=cs(e);
var dS=M.cookie.match(new RegExp("(?:^|; )"+dR.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dS?aL(dS[1]):bP};dO=function(e,dX,dY){var dV=cs(e);dY=dY||{};var dT=dY.expires;if(typeof dT=="number"&&dT){var dW=new Date();dW.setTime(dW.getTime()+dT*1000);dT=dY.expires=dW}if(dT&&dT.toUTCString){dY.expires=dT.toUTCString()}dX=encodeURIComponent(dX);var dR=dV+"="+dX;for(var dU in dY){dR+="; "+dU;var dS=dY[dU];if(dS!==true){dR+="="+dS}}M.cookie=dR};dB=cw.roistatSetCookie=function dB(dR,dU,e){dO(dR,dU,e);var dT;dT=j(aV);dT=a9(dT)?dT.split(","):[];for(var dS in dT){if(dT[dS]===dR){return}}dT.push(dR);dO(aV,dT.join(","),{path:"/"})};var bN=function(dR,dT,dS){var e=dR[dT];dR[dT]=function(){if(e){e.apply(this,arguments)}dS.apply(this,arguments)}};var am=function(dS,dR,dT){if(dS.addEventListener){dS.addEventListener(dR,dT,false);return}var e="on"+dR;if(dS.attachEvent){dS.attachEvent(e,dT);return}if(e in dS){bN(dS,e,dT);return}if(dR in dS){bN(dS,dR,dT);return}A("Handler could not be attached")};var r=function(dT,dS){var dR=dT.length;for(var e=0;e<dR;e++){dS(dT[e])}};var P=function(e){var dR=[];bw(e,function(dS,dT){dR.push(dS)});return dR};var bw=function(e,dS){for(var dR in e){if(Object.prototype.hasOwnProperty.call(e,dR)){dS(dR,e[dR])}}};var bD=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aY=function(dR){if(typeof dR!=="object"){return false}for(var e in dR){if(dR.hasOwnProperty(e)){return true}}return false};var dt=function(dS){try{var dR=JSON.parse(dS);if(dR&&typeof dR==="object"){return dR}}catch(dT){}return null};if(M.getElementsByClassName==bP){M.getElementsByClassName=function(dR){var e=[];var dV=new RegExp("\\b"+dR+"\\b");var dU=this.getElementsByTagName("*");for(var dT=0;dT<dU.length;dT++){var dS=dU[dT].className;if(dV.test(dS)){e.push(dU[dT])}}return e}}var aN=function(){return String.fromCharCode};var c4=function(dS){var e="";for(var dR=0;dR<dS.length;++dR){e+=aN()(c6^dS.charCodeAt(dR))}return e};var aU=function(e){return encodeURIComponent(c4(cz.encode(e)))};var cz={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dS){var e="";var dZ,dX,dV,dY,dW,dU,dT;var dR=0;dS=cz._utf8_encode(dS);while(dR<dS.length){dZ=dS.charCodeAt(dR++);dX=dS.charCodeAt(dR++);dV=dS.charCodeAt(dR++);dY=dZ>>2;dW=((dZ&3)<<4)|(dX>>4);dU=((dX&15)<<2)|(dV>>6);dT=dV&63;if(isNaN(dX)){dU=dT=64}else{if(isNaN(dV)){dT=64}}e=e+this._keyStr.charAt(dY)+this._keyStr.charAt(dW)+this._keyStr.charAt(dU)+this._keyStr.charAt(dT)}return e},decode:function(dS){var e="";var dZ,dX,dV;var dY,dW,dU,dT;var dR=0;dS=dS.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dR<dS.length){dY=this._keyStr.indexOf(dS.charAt(dR++));dW=this._keyStr.indexOf(dS.charAt(dR++));dU=this._keyStr.indexOf(dS.charAt(dR++));dT=this._keyStr.indexOf(dS.charAt(dR++));dZ=(dY<<2)|(dW>>4);dX=((dW&15)<<4)|(dU>>2);dV=((dU&3)<<6)|dT;e=e+String.fromCharCode(dZ);if(dU!=64){e=e+String.fromCharCode(dX)}if(dT!=64){e=e+String.fromCharCode(dV)}}e=cz._utf8_decode(e);return e},_utf8_encode:function(dR){dR=dR.replace(/\r\n/g,"\n");var e="";for(var dT=0;dT<dR.length;dT++){var dS=dR.charCodeAt(dT);if(dS<128){e+=String.fromCharCode(dS)}else{if((dS>127)&&(dS<2048)){e+=String.fromCharCode((dS>>6)|192);e+=String.fromCharCode((dS&63)|128)}else{e+=String.fromCharCode((dS>>12)|224);e+=String.fromCharCode(((dS>>6)&63)|128);e+=String.fromCharCode((dS&63)|128)}}}return e},_utf8_decode:function(e){var dS="";var dU=0;var dV=0;var dT=0;var dR=0;while(dU<e.length){dV=e.charCodeAt(dU);if(dV<128){dS+=String.fromCharCode(dV);dU++}else{if((dV>191)&&(dV<224)){dT=e.charCodeAt(dU+1);dS+=String.fromCharCode(((dV&31)<<6)|(dT&63));dU+=2}else{dT=e.charCodeAt(dU+1);dR=e.charCodeAt(dU+2);dS+=String.fromCharCode(((dV&15)<<12)|((dT&63)<<6)|(dR&63));dU+=3}}}return dS}};var bX=bX||function(d2,dS){var dU={},dV=dU.lib={},dT=function(){},e=dV.Base={extend:function(d3){dT.prototype=this;var d4=new dT;d3&&d4.mixIn(d3);d4.hasOwnProperty("init")||(d4.init=function(){d4.$super.init.apply(this,arguments)});d4.init.prototype=d4;d4.$super=this;return d4},create:function(){var d3=this.extend();d3.init.apply(d3,arguments);return d3},init:function(){},mixIn:function(d3){for(var d4 in d3){d3.hasOwnProperty(d4)&&(this[d4]=d3[d4])}d3.hasOwnProperty("toString")&&(this.toString=d3.toString)},clone:function(){return this.init.prototype.extend(this)}},dR=dV.WordArray=e.extend({init:function(d3,d4){d3=this.words=d3||[];this.sigBytes=d4!=dS?d4:4*d3.length},toString:function(d3){return(d3||d1).stringify(this)},concat:function(d3){var d6=this.words,d4=d3.words,d5=this.sigBytes;d3=d3.sigBytes;this.clamp();if(d5%4){for(var d7=0;d7<d3;d7++){d6[d5+d7>>>2]|=(d4[d7>>>2]>>>24-8*(d7%4)&255)<<24-8*((d5+d7)%4)}}else{if(65535<d4.length){for(d7=0;d7<d3;d7+=4){d6[d5+d7>>>2]=d4[d7>>>2]}}else{d6.push.apply(d6,d4)}}this.sigBytes+=d3;return this},clamp:function(){var d3=this.words,d4=this.sigBytes;d3[d4>>>2]&=4294967295<<32-8*(d4%4);d3.length=d2.ceil(d4/4)},clone:function(){var d3=e.clone.call(this);
d3.words=this.words.slice(0);return d3},random:function(d3){for(var d5=[],d4=0;d4<d3;d4+=4){d5.push(4294967296*d2.random()|0)}return new dR.init(d5,d3)}}),dZ=dU.enc={},d1=dZ.Hex={stringify:function(d3){var d4=d3.words;d3=d3.sigBytes;for(var d7=[],d6=0;d6<d3;d6++){var d5=d4[d6>>>2]>>>24-8*(d6%4)&255;d7.push((d5>>>4).toString(16));d7.push((d5&15).toString(16))}return d7.join("")},parse:function(d3){for(var d4=d3.length,d6=[],d5=0;d5<d4;d5+=2){d6[d5>>>3]|=parseInt(d3.substr(d5,2),16)<<24-4*(d5%8)}return new dR.init(d6,d4/2)}},dY=dZ.Latin1={stringify:function(d3){var d4=d3.words;d3=d3.sigBytes;for(var d6=[],d5=0;d5<d3;d5++){d6.push(String.fromCharCode(d4[d5>>>2]>>>24-8*(d5%4)&255))}return d6.join("")},parse:function(d3){for(var d4=d3.length,d6=[],d5=0;d5<d4;d5++){d6[d5>>>2]|=(d3.charCodeAt(d5)&255)<<24-8*(d5%4)}return new dR.init(d6,d4)}},d0=dZ.Utf8={stringify:function(d3){try{return decodeURIComponent(escape(dY.stringify(d3)))}catch(d4){throw Error("Malformed UTF-8 data")}},parse:function(d3){return dY.parse(unescape(encodeURIComponent(d3)))}},dX=dV.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dR.init;this._nDataBytes=0},_append:function(d3){"string"==typeof d3&&(d3=d0.parse(d3));this._data.concat(d3);this._nDataBytes+=d3.sigBytes},_process:function(d4){var d6=this._data,d9=d6.words,d8=d6.sigBytes,d7=this.blockSize,d3=d8/(4*d7),d3=d4?d2.ceil(d3):d2.max((d3|0)-this._minBufferSize,0);d4=d3*d7;d8=d2.min(4*d4,d8);if(d4){for(var d5=0;d5<d4;d5+=d7){this._doProcessBlock(d9,d5)}d5=d9.splice(0,d4);d6.sigBytes-=d8}return new dR.init(d5,d8)},clone:function(){var d3=e.clone.call(this);d3._data=this._data.clone();return d3},_minBufferSize:0});dV.Hasher=dX.extend({cfg:e.extend(),init:function(d3){this.cfg=this.cfg.extend(d3);this.reset()},reset:function(){dX.reset.call(this);this._doReset()},update:function(d3){this._append(d3);this._process();return this},finalize:function(d3){d3&&this._append(d3);return this._doFinalize()},blockSize:16,_createHelper:function(d3){return function(d4,d5){return(new d3.init(d5)).finalize(d4)}},_createHmacHelper:function(d3){return function(d4,d5){return(new dW.HMAC.init(d3,d5)).finalize(d4)}}});var dW=dU.algo={};return dU}(Math);(function(d0){function dS(d4,d5,d2,d7,d3,d6,d1){d4=d4+(d5&d2|~d5&d7)+d3+d1;return(d4<<d6|d4>>>32-d6)+d5}function dU(d4,d5,d2,d7,d3,d6,d1){d4=d4+(d5&d7|d2&~d7)+d3+d1;return(d4<<d6|d4>>>32-d6)+d5}function dV(d4,d5,d2,d7,d3,d6,d1){d4=d4+(d5^d2^d7)+d3+d1;return(d4<<d6|d4>>>32-d6)+d5}function dT(d4,d5,d2,d7,d3,d6,d1){d4=d4+(d2^(d5|~d7))+d3+d1;return(d4<<d6|d4>>>32-d6)+d5}for(var e=bX,dR=e.lib,dX=dR.WordArray,dZ=dR.Hasher,dR=e.algo,dW=[],dY=0;64>dY;dY++){dW[dY]=4294967296*d0.abs(d0.sin(dY+1))|0}dR=dR.MD5=dZ.extend({_doReset:function(){this._hash=new dX.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ei,ef){for(var en=0;16>en;en++){var eh=ef+en,d4=ei[eh];ei[eh]=(d4<<8|d4>>>24)&16711935|(d4<<24|d4>>>8)&4278255360}var en=this._hash.words,eh=ei[ef+0],d4=ei[ef+1],eg=ei[ef+2],ed=ei[ef+3],eb=ei[ef+4],d9=ei[ef+5],d7=ei[ef+6],d6=ei[ef+7],d5=ei[ef+8],d3=ei[ef+9],d2=ei[ef+10],d1=ei[ef+11],ee=ei[ef+12],ec=ei[ef+13],ea=ei[ef+14],d8=ei[ef+15],em=en[0],el=en[1],ek=en[2],ej=en[3],em=dS(em,el,ek,ej,eh,7,dW[0]),ej=dS(ej,em,el,ek,d4,12,dW[1]),ek=dS(ek,ej,em,el,eg,17,dW[2]),el=dS(el,ek,ej,em,ed,22,dW[3]),em=dS(em,el,ek,ej,eb,7,dW[4]),ej=dS(ej,em,el,ek,d9,12,dW[5]),ek=dS(ek,ej,em,el,d7,17,dW[6]),el=dS(el,ek,ej,em,d6,22,dW[7]),em=dS(em,el,ek,ej,d5,7,dW[8]),ej=dS(ej,em,el,ek,d3,12,dW[9]),ek=dS(ek,ej,em,el,d2,17,dW[10]),el=dS(el,ek,ej,em,d1,22,dW[11]),em=dS(em,el,ek,ej,ee,7,dW[12]),ej=dS(ej,em,el,ek,ec,12,dW[13]),ek=dS(ek,ej,em,el,ea,17,dW[14]),el=dS(el,ek,ej,em,d8,22,dW[15]),em=dU(em,el,ek,ej,d4,5,dW[16]),ej=dU(ej,em,el,ek,d7,9,dW[17]),ek=dU(ek,ej,em,el,d1,14,dW[18]),el=dU(el,ek,ej,em,eh,20,dW[19]),em=dU(em,el,ek,ej,d9,5,dW[20]),ej=dU(ej,em,el,ek,d2,9,dW[21]),ek=dU(ek,ej,em,el,d8,14,dW[22]),el=dU(el,ek,ej,em,eb,20,dW[23]),em=dU(em,el,ek,ej,d3,5,dW[24]),ej=dU(ej,em,el,ek,ea,9,dW[25]),ek=dU(ek,ej,em,el,ed,14,dW[26]),el=dU(el,ek,ej,em,d5,20,dW[27]),em=dU(em,el,ek,ej,ec,5,dW[28]),ej=dU(ej,em,el,ek,eg,9,dW[29]),ek=dU(ek,ej,em,el,d6,14,dW[30]),el=dU(el,ek,ej,em,ee,20,dW[31]),em=dV(em,el,ek,ej,d9,4,dW[32]),ej=dV(ej,em,el,ek,d5,11,dW[33]),ek=dV(ek,ej,em,el,d1,16,dW[34]),el=dV(el,ek,ej,em,ea,23,dW[35]),em=dV(em,el,ek,ej,d4,4,dW[36]),ej=dV(ej,em,el,ek,eb,11,dW[37]),ek=dV(ek,ej,em,el,d6,16,dW[38]),el=dV(el,ek,ej,em,d2,23,dW[39]),em=dV(em,el,ek,ej,ec,4,dW[40]),ej=dV(ej,em,el,ek,eh,11,dW[41]),ek=dV(ek,ej,em,el,ed,16,dW[42]),el=dV(el,ek,ej,em,d7,23,dW[43]),em=dV(em,el,ek,ej,d3,4,dW[44]),ej=dV(ej,em,el,ek,ee,11,dW[45]),ek=dV(ek,ej,em,el,d8,16,dW[46]),el=dV(el,ek,ej,em,eg,23,dW[47]),em=dT(em,el,ek,ej,eh,6,dW[48]),ej=dT(ej,em,el,ek,d6,10,dW[49]),ek=dT(ek,ej,em,el,ea,15,dW[50]),el=dT(el,ek,ej,em,d9,21,dW[51]),em=dT(em,el,ek,ej,ee,6,dW[52]),ej=dT(ej,em,el,ek,ed,10,dW[53]),ek=dT(ek,ej,em,el,d2,15,dW[54]),el=dT(el,ek,ej,em,d4,21,dW[55]),em=dT(em,el,ek,ej,d5,6,dW[56]),ej=dT(ej,em,el,ek,d8,10,dW[57]),ek=dT(ek,ej,em,el,d7,15,dW[58]),el=dT(el,ek,ej,em,ec,21,dW[59]),em=dT(em,el,ek,ej,eb,6,dW[60]),ej=dT(ej,em,el,ek,d1,10,dW[61]),ek=dT(ek,ej,em,el,eg,15,dW[62]),el=dT(el,ek,ej,em,d3,21,dW[63]);
en[0]=en[0]+em|0;en[1]=en[1]+el|0;en[2]=en[2]+ek|0;en[3]=en[3]+ej|0},_doFinalize:function(){var d3=this._data,d4=d3.words,d1=8*this._nDataBytes,d5=8*d3.sigBytes;d4[d5>>>5]|=128<<24-d5%32;var d2=d0.floor(d1/4294967296);d4[(d5+64>>>9<<4)+15]=(d2<<8|d2>>>24)&16711935|(d2<<24|d2>>>8)&4278255360;d4[(d5+64>>>9<<4)+14]=(d1<<8|d1>>>24)&16711935|(d1<<24|d1>>>8)&4278255360;d3.sigBytes=4*(d4.length+1);this._process();d3=this._hash;d4=d3.words;for(d1=0;4>d1;d1++){d5=d4[d1],d4[d1]=(d5<<8|d5>>>24)&16711935|(d5<<24|d5>>>8)&4278255360}return d3},clone:function(){var d1=dZ.clone.call(this);d1._hash=this._hash.clone();return d1}});e.MD5=dZ._createHelper(dR);e.HmacMD5=dZ._createHmacHelper(dR)})(Math);var bL=function(){return M[aN()(99,111,111,107,105,101)]};var az=function(){dF();var e={c:dl()};return aU(JSON.stringify(e))};var cN=function(){var e=p();return(e===bP||e===null)?cC:e};var dl=function(){var e=[];for(var dR in co.cookies){if(!Object.prototype.hasOwnProperty.call(co.cookies,dR)){continue}e.push(dR+"="+co.cookies[dR])}return e.join("; ")};var dF=function(){var e=n();for(var dR in e){if(!Object.prototype.hasOwnProperty.call(e,dR)){continue}co.cookies[dR]=e[dR]}};var ax=function(e){dB(dg,e,bJ());co.source.marker=e};var au=function(){return j(dg)};var g=function(){bw(cw.roistat.page.params,function(dR,e){co.pageParams[dR]=e})};var n=function(){var dT=bL();var dU=dT.split("; ");var e={};for(var dS=0;dS<dU.length;dS++){var dX=dU[dS];if(dX===""){continue}var dR=dX.split("=");if(dR.length<2){continue}var dW=dR[0].trim();var dV=dR[1].trim();e[dW]=dV}return e};var h=function(){return aN()(104,97,115,104)};var aT=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var cj={isAvailable:function(){var dR=false;if(!cw.sessionStorage||!cw.sessionStorage.setItem||!cw.sessionStorage.getItem||!cw.sessionStorage.removeItem){return dR}try{cw.sessionStorage.setItem("testKey","testValue");dR=cw.sessionStorage.getItem("testKey")==="testValue";cw.sessionStorage.removeItem("testKey")}catch(dS){return false}return dR},remove:function(e){if(this.isAvailable()){cw.sessionStorage.removeItem(cs(e))}},setObject:function(e,dR){if(this.isAvailable()){cw.sessionStorage.setItem(cs(e),JSON.stringify(dR))}},getObject:function(dR){var e=null;if(this.isAvailable()){e=cw.sessionStorage.getItem(cs(dR));e=JSON.parse(e)}return e},set:function(e,dR){if(this.isAvailable()){cw.sessionStorage.setItem(cs(e),dR)}},get:function(dR){var e=null;if(this.isAvailable()){e=cw.sessionStorage.getItem(cs(dR))}return e}};var ct={isAvailable:function(){var dR=false;if(!cw.localStorage||!cw.localStorage.setItem||!cw.localStorage.getItem||!cw.localStorage.removeItem){return dR}try{cw.localStorage.setItem("testKey","testValue");dR=cw.localStorage.getItem("testKey")==="testValue";cw.localStorage.removeItem("testKey")}catch(dS){return false}return dR},remove:function(dR){if(this.isAvailable()){cw.localStorage.removeItem(cs(dR))}else{var e=new Date(1970,1,1);dB(dR,"",{expires:e.toUTCString()})}},setObject:function(e,dR){if(this.isAvailable()){localStorage.setItem(cs(e),JSON.stringify(dR))}},getObject:function(dR){var e=null;if(this.isAvailable()){e=localStorage.getItem(cs(dR));e=dt(e)}return e},set:function(e,dR){if(this.isAvailable()){localStorage.setItem(cs(e),dR)}else{if(this.isSaveInCookieEnabled()){dB(e,dR,c8)}}},save:function(dR,dS,e){if(this.isAvailable()){localStorage.setItem(cs(dR),dS)}dB(dR,dS,e)},get:function(dR){var e=null;if(this.isAvailable()){e=localStorage.getItem(cs(dR))}if(e===null){e=j(dR)}return e},isSaveInCookieEnabled:function(){return this.get(bn)>0},isExternalCountersEnabled:function(){return this.get(E)>0}};var cf=function(){return !ce(M.referrer)?M.referrer:null};var Y=function(e){return typeof e==="function"};var dN=function(e){return typeof e==="object"};var a9=function(e){return typeof e==="string"};var ae=function(dT,dS){dS=typeof dS!=="undefined"?dS:false;var dU=function(dX){var dW=null;var dY=new RegExp("[#&?]("+dT+"=[^#&?]+)");if(dY.test(dX)){dW=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dV=aL(dW);return dW&&dV?dV:dW};var e=dU(cK);if(dS){var dR=M.referrer;if(e===null&&dR){e=dU(dR)}}return e};var dk=function(dR,dS){var e=false;if(dR&&dS){e=dR.split(dS).join("")!==dR}return e};if(ae(cn)==="1"||n()[cn]==="1"){bB=true}var cX=function(){return true};var aR=function(){return cX()?cw.roistatMultiWidgetOnly:cw.roistatOnlineChatOnly};var dE=function(){var dR=be()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||be()==="4";var e=(cw.location.host==="cloud.roistat.com"||cw.location.host==="cloud-eu.roistat.com")&&cw.location.pathname!=="/user/login"&&cw.location.pathname!=="/user/register";var dT=be()==="349ac99f64416756d4a18e91c71dc95f";var dS=cw.location.host==="datyson.ru"&&cw.location.pathname==="/cloud.html";if((dR&&!e)||(dT&&!dS)){A("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bj=function(){if("https:"===M.location.protocol){return"https:"
}else{return"http:"}};var X=function(dR){var e=M.createElement("img");e.src=dR;A("sendRequestByUrl: "+dR)};var a5=function(dR,dT){A("sendApiRequestJSONP: init with url "+dR);var e=M.createElement("script");e.onload=e.onreadystatechange=function(){var dU=this.readyState?this.readyState:"unknown";A("sendApiRequestJSONP: script state changed to "+dU)};e.src=dR;if(dT){e.setAttribute("data-roistat-script-id",dT)}e.type="text/javascript";e.async=true;var dS=M.getElementsByTagName("script")[0];dS.parentNode.insertBefore(e,dS);A("sendApiRequestJSONP: script appended")};var b8=function(){if(co.isCssLoaded){return}(function(){var dR=M.createElement("link"),e=M.getElementsByTagName("head");dR.setAttribute("rel","stylesheet");dR.setAttribute("href",bj()+"//"+x+"/dist/module.css?"+ab);if(e.length>0){co.isCssLoaded=true;e[0].appendChild(dR)}})()};var cy=function(){return cD()||dL()};var cD=function(){return br()!==null};var dL=function(){return cv()!==null};var de=function(){var e=db();if(e!==null){dB(cm,e,bJ())}};var db=function(){return br()||cv()||null};var br=function(){return ae("roistat_visit")};var cv=function(){return co.visitFromUser};var a=function(dR,e){if(!e&&(co.isSettingsUpdating||!M.hasFocus())){A("Already updating settings or document not in focus, return");return}var dS=S()+"/get-settings?v="+ab+"&visit="+dR;A("Request new settings");co.isSettingsUpdating=true;a5(dS)};var a1=function(){return ct.get(ba)>0};var dv=function(){ct.set(ba,1)};var aG=function(){ct.remove(ca);ct.remove(bE);ct.remove(b9);ct.remove(bA);ct.remove(D);ct.remove(c0);ct.remove(dh);ct.remove(f)};var cp=function(){var dU=function(){return ct.get(cP)};var dT=function(){ct.set(cP,B)};var dR=function(){return typeof dU()==="string"};var e=function(){var dV=Number(dU())>B;A("Settings Version: settings version change status - "+dV);return dV};var dS=function(){var dV=1000*60*60*24;var dY=dq();var dX=cA()-dY;var dW=dX>dV;A("Settings Version:: expiration day check: lastUpdateTime="+dY+", _lastUpdateTimeDiff="+dX+", _oneDayDiffInMs="+dV+", result="+(dW?1:0));return dW};if(!dR()){A("Settings Version: set settings version up to 1");dT()}if(dS()||e()){A("Settings Version: clear settings");aG()}};var dG=function(){A("Call: Init");A("Counter version: "+ab);if(ae("roistat_ab_demo")==="1"){A("Roistat initialisation rejected: ab test preview mode");return}bu();cW();if((!aw()||dM())&&!aR()){df=true;bS();I("Created new visit_id: "+p()+" and referrer: "+l)}else{cp();de();var dR=p();I("Init visit with new visit_id, visit_id: "+dR+" and referrer: "+l);bZ();bh();dc();roistat.visit=dR;co.source.marker=au();cw.roistat.geo=ct.getObject(m);var dS=a1();if(!dS){a(dR)}else{c2()}}cM(du);cM(dP);var e=be()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||be()==="4";if(e){cM(roistat.setDeviceParams)}};var du=function(){A("InitExternalCounter");if(!ct.isExternalCountersEnabled()){A("ExternalCounters is not available, return");return}var dS=be();var dR=J();var dV=dR?dR:p();var dU=dS+":"+dV;var e=dS+":"+bX.MD5(bi(M.domain)).toString();var dT=function(dY,dW){var dX=(M.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+dW+"&event_type=view&user_id="+dY;var dZ=new XMLHttpRequest;dZ.open("GET",dX,true);dZ.withCredentials=true;dZ.onload=function(){if(dZ.readyState===4){if(dZ.status!==204){console.error(dZ.statusText)}}};dZ.onerror=function(){console.error(dZ.statusText)};dZ.send(null)};dT(dU,e);A("InitExternalCounter: script appended")};var Q=function(dS){if(!dS.isEnabled){return true}var e=new Date();var dZ=new Date().toISOString();var dW=e.getUTCDay()===0?7:e.getDay();var dX=dW===6||dW===7;var dY=false;for(var dU=0;dU<dS.days.length;dU++){if(dW===dS.days[dU]){dY=true}}if(!dY){return false}if(dX&&dS.weekendsTime!==null){var d0=new Date(dS.weekendsTime.from).toISOString();var dT=new Date(dS.weekendsTime.to).toISOString();return dZ>=d0&&dZ<=dT}var dV=new Date(dS.weekdaysTime.from).toISOString();var dR=new Date(dS.weekdaysTime.to).toISOString();return dZ>=dV&&dZ<=dR};var bu=function(){A("Call: initMarker");bH=cB();A("Call: inited marker: "+bH)};var cW=function(){A("Call: initReferrer");l=cf();A("Call: end initReferrer: "+l)};var dP=function(){A("Call: parsing roistat params from url");var dS={};for(i=1;i<=dp;i++){var dR="roistat_param"+i;dS[dR]=ae(dR,false)}var e=bd(dS);if(aY(e)&&Object.keys(e).length>0){bk(e)}A("Call: end parsing roistat params from url")};var ce=function(dS){if(!dS){return true}var e=bi(dS);var dR=bi(M.domain);if(e===dR){return true}var dT=b7();if(dT===null){return false}if(dk(e,dT)&&dk(dR,dT)){return true}return false};var b7=function(){if(typeof c8.domain==="string"&&c8.domain!==""){return bi(c8.domain)}return null};var bi=function(e){var dR=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return dR.split("/")[0]};var cB=function(){var dV=j(k)>0;var dX=null;var dS=function(d0){return d0.split("_").join(":u:")};var dZ=function(d1){var d0=false;r(a8,function(d2){if(d1.indexOf(d2)>-1){d0=true}});
return d0};var dY=function(){var d0=false;var d1;d1=ae(N,dV);if(d1!==null){dX=d1;d0=true}d1=ae(cT,dV);if(d1!==null){dX=d1;d0=true}return d0};var dT=function(){var d0=false;var d1=au();if(d1){dX=d1;d0=true;cE=false}return d0};var dR=function(){var d0=false;var d2=ae("utm_source",dV);if(d2!==null){d0=true;dX=":utm:"+dS(d2);var d4=["utm_medium","utm_campaign","utm_content","utm_term"];var d1;for(var d3=0;d3<d4.length;d3++){d1=ae(d4[d3],dV);if(d1!==null){dX=dX+"_"+dS(d1)}}}return d0};var dU=function(){var d2,d1,d0=false;d1=ae("_openstat",dV);if(!d1){return false}if(dW(d1)){d2=d1}else{d2=encodeURI(cz.decode(d1));if(!dW(d2)){d2=d1}}if(d2){d2=dS(d2).split(";").join("_");dX=":openstat:"+d2;d0=true}return d0};var dW=function(d0){return d0.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var d0=false;var d1=M.referrer;if(ce(d1)){return d0}var d2=ae("from",dV);if(d2!==null&&!dk(d2,"http")){if(!dZ(d2)){d0=true;dX=dS(d2)}}return d0};if(dY()){A("Init marker: init from RS param "+dX);return dX}if(dR()){A("Init marker: init from UTM "+dX);return dX}if(dU()){A("Init marker: init from OpenStat "+dX);return dX}if(e()){A("Init marker: init from custom tag "+dX);return dX}A("Init marker: try init from cookie "+dX);dT();return dX};var p=function(){return ct.get(cm)};var J=function(){return ct.get(a6)};var ag=function(){A("Call: saveReferrer");ct.set(aO,l)};var ci=function(){A("Call: removeReferrer");ct.remove(aO)};var ds=function(){dB(bo,aL(bH),bJ())};var dc=function(){A("Call: refreshPromoCode");if(aR()){A("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return j(cm)};aC(e());if(!cw.onload){cw.onload=function(){aC(e())}}setTimeout(function(){aC(e())},50);setTimeout(function(){aC(e())},200);setTimeout(function(){aC(e())},2000);setTimeout(function(){aC(e())},10000)};cw.roistatPromoCodeRefresh=dc;var dx=function(){var e=[];var dR=M.getElementsByClassName(ap);if(dR&&dR.length){e=dR}return e};var aC=function(e){var dT=dx();A("setPromoCode: "+e+" in "+dT.length+" elements");for(var dS=0;dS<dT.length;dS++){var dR=dT[dS];dR.innerHTML=e?e:""}};var bV=function(){var dS=cB(),dR=j(bo),dU=dS!==null,dT=true;var dW=aL(aL(dS)).toLowerCase().split("+").join(" "),dV=aL(aL(dR)).toLowerCase().split("+").join(" ");if(dS&&dR){dT=dW!==dV}var e=dU&&dT;a3="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dS+":"+dW+" and old "+dR+":"+dV;A(a3);return e};var aS=function(){var dR=function(dZ){return/[\u0400-\u04FF]/.test(dZ)};var dY=false,dV=l,e=ct.get(aO),dX=cw.location.host;if(!dV||!dX){A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+"), skip because one of params is empty");return dY}dX=bi(dX);dV=aL(dV);e=aL(e);var dT=bi(dV);if(dk(dV,"xn--")&&dR(dX)){A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+"), skip because of bugs with punycode in FF");return dY}if(!dT){A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+"), skip because current referrer is null");return dY}if(!e){dY=!dk(dT,dX);A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+"), compare current referrer and host");return dY}if(dk(dV,e)){A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+"), skip because the same referrer");return dY}var dW=dX.split(".").length>2&&dT.split(".").length>2;var dU=cw.roistatCookieDomain!==bP&&cw.roistatCookieDomain!==dX;var dS=dT.split(".").slice(1).join(".")===dX.split(".").slice(1).join(".");if(dW&&dU&&dS){A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+"), skip because sub domains of same domain");return dY}dY=!(dk(dT,dX)||(dk(dX,dT)));A("Call: needOverrideByReferrer (result "+(dY?"true":"false")+") referrerHost: "+dT+", currentHost: "+dX);return dY};var b0=function(){return ae("utm_nooverride")==="1"};var dM=function(){return !cy()&&!b0()&&(bV()||aS())};var b1=function(dR,e){return(dR&&e&&dR!=e)};var bm=function(dT){var dR=["cookieExpire"];var dV=dT.leadHunterEnabled;if(Number(ct.get(bQ))!==Number(dT.leadHunterEnabled)){ct.set(bQ,Number(dT.leadHunterEnabled))}if(dV){var dU={expires:T,path:"/"};if(c8.domain){dU.domain=c8.domain}dB(ah,1,dU)}for(var dS in dT){if(!Object.prototype.hasOwnProperty.call(dT,dS)){continue}if(!dV&&dS.indexOf("leadHunter")>=0&&dS.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aB(dR,dS)){if(dS.indexOf("leadHunterTargetPagesMap")!==-1){var e=dt(dT[dS]);if(e!==null){ct.setObject("roistat_"+dS,e)}continue}ct.set("roistat_"+dS,dT[dS])}}};var c9=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(ct.get(bl))!==Number(e.is_enabled)){ct.set(bl,Number(e.is_enabled))
}if(Number(ct.get(cc))!==Number(e.vk.is_enabled)){ct.set(cc,Number(e.vk.is_enabled))}if(ct.get(c3)!==roistat.multiwidget.vk.link){ct.set(c3,roistat.multiwidget.vk.link)}if(Number(ct.get(U))!==Number(e.fb.is_enabled)){ct.set(U,Number(e.fb.is_enabled))}if(ct.get(dm)!==roistat.multiwidget.fb.link){ct.set(dm,roistat.multiwidget.fb.link)}if(Number(ct.get(cO))!==e.telegram.is_enabled){ct.set(cO,Number(e.telegram.is_enabled))}if(ct.get(bz)!==roistat.multiwidget.telegram.link){ct.set(bz,roistat.multiwidget.telegram.link)}if(Number(ct.get(cZ))!==e.whats_app.is_enabled){ct.set(cZ,Number(e.whats_app.is_enabled))}if(ct.get(bO)!==roistat.multiwidget.whatsApp.link){ct.set(bO,roistat.multiwidget.whatsApp.link)}if(Number(ct.get(dQ))!==e.viber.is_enabled){ct.set(dQ,Number(e.viber.is_enabled))}if(ct.get(cR)!==roistat.multiwidget.viber.link){ct.set(cR,roistat.multiwidget.viber.link)}ct.setObject(at,e)};var cx=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(ct.get(c0))!==Number(e.is_enabled)){ct.set(c0,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;ct.setObject(C,e.advanced_settings)};var w=function(e){cw.roistat.geo=e;ct.setObject(m,e)};var cI=function(e){A("PromoCode: save settings");ct.setObject(aZ,e)};var dH=function(dU,dW,dT,dR,dV,e,dX,dS){bm(dU);roistat.callTracking.enabled=dW.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dT.email;roistat.emailtracking.trackingEmail=dT.trackingEmail;roistat.emailtracking.emails=dT.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dV;c9(e);cx(dX);w(dR);cI(dS)};cw.roistatModuleSetVisitCookie=function(dV,d3,dT,dR,d2,dY,e,d5,dX,d4){A("Call: roistatModuleSetVisitCookie("+dV+")");var dZ;if(typeof dT.cookieExpire!=="number"){dZ=bJ().expires}else{dZ=dT.cookieExpire}var dW=j(cm);var d1={expires:dZ,path:"/"};if(c8.domain){d1.domain=c8.domain}dB(cm,dV,d1);if(!(j(cm)>0)||cg){ct.save(cm,dV,d1)}if(!ct.get(a6)){var dS={expires:10*365*24*60*60,path:"/"};if(c8.domain){dS.domain=c8.domain}ct.save(a6,dV,dS)}var d0=dT.abTests;if((typeof d0!=="undefined")&&ct.isAvailable()){ct.setObject("abTesting",d0)}applyTests();var dU=dT.isNeedToListenRequests;if((typeof dU!=="undefined")&&ct.isAvailable()){ct.set(av,dU)}aC(dV);if(d3){ax(d3);dB(bo,d3,d1)}if(cw.roistatCallback!==bP){cw.roistatCallback(dV,d3)}if(!d5){d5={}}dH(dT,dR,d2,dY,e,d5.multiwidget_settings,dX,d4);roistat.callTracking.phone=dR.phone;roistat.callTracking.sessionTime=dR.sessionTime;roistat.callTracking.replacementClasses=dR.replacementClasses;roistat.callTracking.phoneScriptsJson=dR.scripts;roistat.visit=dV;A("Call: pre renderPromoCode");bh();dc();if(b1(dW,dV)){A("roistatModuleSetVisitCookie: visit changed from "+dW+" to "+dV)}dn();dv();c2()};cw.roistatUpdateSettings=function(e){A("Set settings.");co.isSettingsUpdating=false;dH(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dv();c2()};var aw=function(){var e;if(cw.roistatIsInitVisit===true){e=false}else{e=ct.get(cm)>0}A("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var bc=function(){return l?c(l):""};var S=function(){return bj()+"//"+x+"/api/site/"+ao+"/"+be()};var cF=function(){var dR={expires:1,path:"/"};var e={expires:bR,path:"/"};if(c8.domain){dR.domain=c8.domain;e.domain=c8.domain}var dS=j(bI);if(dS){dB(ak,dS,e)}dB(bI,"",dR);dB(V,"",dR)};var b4=function(){var dR=ct.getObject("abTesting");if(!dN(dR)){return""}var dT,dS,e=[];for(dT in dR){if(!Object.prototype.hasOwnProperty.call(dR,dT)){continue}dS=dR[dT];e.push(dS.id+":"+dS.variantId)}return e.join(",")};var bS=function(){A("Call: setVisitIdCookie");var dR=function(){var d1=be(),dY=bc(),dU=cw.roistatIsInitVisit===true?p():0,d0=j(bI),dW=j(cd),dV=ct.get(a6);d0=d0?d0:"";dV=dV?dV:"";bH=bH&&(!aS()||cE)?aL(aL(bH)):"";I("Init visit with visit id from cookie, visit_id: "+dU+" and referrer: "+dY+" calculateApiUrl marker: "+bH);var dZ=encodeURIComponent(cK);A("Calltracking: enabled="+cb.callTrackingEnabled+",manual="+cb.callTrackingManual);var dX=JSON.stringify(cw.roistat.page.params);return S()+"/addVisit?v="+ab+"&marker="+encodeURIComponent(bH)+"&visit="+dU+"&first_visit="+dV+"&guid="+dW+"&phone_prefix="+cU+"&phone_prefix_bind="+dJ+"&phone_scripts_bind="+W+"&referrer="+dY+"&page="+dZ+"&ab="+c(d0)+"&ab_variants="+c(b4())+"&"+h()+"="+az()+(dX==="{}"?"":"&page_params="+encodeURIComponent(dX))+((!cb.callTrackingEnabled||cb.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(dU){setTimeout(function(){A("Call: setVisitIdCookie script creation after timeout");var dV=M.createElement("script");dV.onload=dV.onreadystatechange=function(){var dX=this.readyState?this.readyState:"unknown";A("Call: setVisitIdCookie script state changed to "+dX)};dV.src=dU;dV.type="text/javascript";
dV.async=true;dV.id=ad;var dW=M.getElementsByTagName("script")[0];dW.parentNode.insertBefore(dV,dW);A("Call: setVisitIdCookie appended "+((M.getElementById(ad))?"true":"false"));A("Call: sendJSONPRequest to URL "+dU);cF()},cb.jsonpRequestTimeout)};if(bH){ax(bH);ds()}var dT=j(a0);if(dT){dB(cd,dT,c8)}aH();var dS=dR();e(dS);l?ag():ci()};var bZ=function(){A("Call: sendAbTests");var dS=function(){var dW=be(),dV=j(cm);return bj()+"//"+x+"/site-api/"+aP+"/"+dW+"/visit/"+dV+"/addAbVariant"};var dT=j(bI);var dR=j(ak);if(dT===dR||!dT){cF();return}var dU=dS();dU=dU+"?ab="+c(dT);var e=M.createElement("img");e.src=dU;cF()};var a2={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a2.Android()||a2.BlackBerry()||a2.iOS()||a2.Opera()||a2.Windows())}};var bb={isIE:function(dS,dU){var dV="IE",dR=M.createElement("B"),e=M.documentElement,dT;if(dS){dV+=" "+dS;if(dU){dV=dU+" "+dV}}dR.innerHTML="<!--[if "+dV+']><b id="iecctest"></b><![endif]-->';e.appendChild(dR);dT=!!M.getElementById("iecctest");e.removeChild(dR);return dT}};var dq=function(){return ct.get(af)};var aj=function(){var e="";cw.onerror=function(dW,dV,dS,dU,dT){var dR=!dU?"":", column: "+dU;dR+=!dT?"":", error: "+dT;e=e+", Error: "+dW+", url: "+dV+", line: "+dS+dR};setTimeout(function(){var dY=false,dZ="";var dU=dx();for(var dX=0;dX<dU.length;dX++){var dT=dU[dX];if(dT!==null&&!dT.innerHTML){dY=true;dZ="Promo HTML: "+dT.innerHTML}}if(!(j(cm)>0)){dY=true;dZ=dZ+"; roistat_visit = "+j(cm)}if(dY){var dS=M.getElementById(ad);var dR=dS?1:0;var dV=cw.navigator.userAgent;dZ=encodeURIComponent(dZ);var dW=M.createElement("img");dW.src=bj()+"//"+x+"/site-api/"+aP+"/"+be()+"/debug?message="+dZ+"&agent="+dV+"&"+h()+"="+az()+"&jserror="+e+"&scriptResponse="+dR+"&version="+ab+"&debug="+bq}},20000)};var bM=function(){var dS=M.getElementsByTagName("body");var dT=M.documentElement;var dR=0,dU=0;if(dS.length){var e=dS[0];dR=cw.innerWidth||dT.clientWidth||e.clientWidth;dU=cw.innerHeight||dT.clientHeight||e.clientHeight}else{dR=cw.innerWidth||dT.clientWidth;dU=cw.innerHeight||dT.clientHeight}return{width:dR,height:dU}};var bh=function(){var dW=M.getElementsByClassName("roistat-promo-wrap");if(dW.length){A("PromoCode: old promo code length - exit");return}if(aR()){A("PromoCode: Shut down because only online chat need to be inited");return}var dV=ct.getObject(aZ);if(dV&&dV.hasOwnProperty("is_enabled")){cw.roistat.promoCode.isEnabled=dV.is_enabled;A("PromoCode: set is_enabled from storage")}var dT=function(){var d3=M.createElement("div");d3.innerHTML=roistatPromoCode;var d1=M.getElementsByTagName("body");if(d1.length){d1[0].appendChild(d3)}A("PromoCode: appended to body "+roistatPromoCode.length);var d2=M.getElementsByClassName("roistat-promo-wrap")[0];if(!d2){A("PromoCode: roistat-promo-wrap not found, skip");return}var d0=d2.style;var dY,dZ,dX;setInterval(function(){dY=bM();dZ=d2.offsetWidth;dX=d2.offsetHeight*2;switch(roistatPosition){case"top_left":d0.left=0;d0.top=0;break;case"top":d0.left=((dY.width-dZ)/2)+"px";d0.top=0;break;case"top_right":d0.right=0;d0.top=0;break;case"left":d0.left=0;d0.top=((dY.height-dX)/2)+"px";break;case"right":d0.right=0;d0.top=((dY.height-dX)/2)+"px";break;case"bottom_left":d0.left=0;d0.bottom=0;break;case"bottom":d0.left=((dY.width-dZ)/2)+"px";d0.bottom=0;break;case"bottom_right":d0.right=0;d0.bottom=0;break;default:d0.left=0;d0.top=0}},500)};var e=ct.getObject("promo_code_options");if(e){A("PromoCode: options already set");cw.roistatPromoCode=e.template;cw.roistatPosition=e.position;dT()}else{if(!cw.roistat.promoCode.isEnabled){A("PromoCode: is not available, skip");return}var dU=M.getElementsByTagName("head")[0]||M.documentElement;var dS=M.createElement("script");dS.src=bj()+"//"+x+"/site-api/"+aP+"/"+be()+"/getPromoCode";dU.insertBefore(dS,dU.firstChild);A("PromoCode: loading started");var dR=false;dS.onload=dS.onreadystatechange=function(){if(!dR&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dR=true;dS.onload=dS.onreadystatechange=null;if(dU&&dS.parentNode){dU.removeChild(dS)}}if(!dR){return}A("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){A("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};ct.setObject("promo_code_options",e);dT()}}};var aB=function(dR,dS){for(var e=0;e<dR.length;e++){if(dR[e]===dS){return true}}return false};var I=function(dR){if(!an||dR===""){return}var e=p();dz("visit: "+e+" "+dR)};var dz=function(dR){var e=S()+"/log?log="+encodeURIComponent(dR);a5(e)};var aQ=function aQ(){var dU=cw.onpopstate;var dV=cw.history.pushState;var e=cw.history.replaceState;am(cw,"popstate",function dT(dW){A("[Roistat]: popstate event catch");
ck();if(ai()&&typeof dU==="function"){dU(dW)}});am(cw.history,"pushState",function dS(dX,dY,dW){A("[Roistat]: pushState event catch");ck();if(ai()&&typeof dV==="function"){dV.apply(this,[dX,dY,dW])}});am(cw.history,"replaceState",function dR(dX,dY,dW){A("[Roistat]: replaceState event catch");ck();if(ai()&&typeof e==="function"){e.apply(this,[dX,dY,dW])}})};(function bW(){aQ();if(cw.onRoistatModuleLoaded!==bP&&typeof cw.onRoistatModuleLoaded==="function"){cw.onRoistatModuleLoaded()}})();(function aJ(){var dR="fngr.roistat.com";var dV=false;var dU=be()==="e6b168b42cac9ce8e85d0bdde71e039a";if(!dV&&!dU){A("Fingerprint: disabled");return}cw.roistat.crossdevice={registerFingerprint:function dS(dW){A("Fingerprint: collected data "+JSON.stringify(dW));roistat.registerOnVisitProcessedCallback(function(){A("Fingerprint: sending to service");var dX=Object.keys(dW).map(function(dZ){return dW[dZ].key+"="+encodeURIComponent(dW[dZ].data)}).join("&");dX=dX+"&visit="+be()+"|"+J()+"|"+roistat.getVisit();dX+="&host="+encodeURIComponent(cw.location.host);var dY=bj()+"//"+dR+"/register?"+dX;a5(dY)})},markVisit:function e(dW){A("Fingerprint: marking visit "+dW)}};A("Fingerprint: initialising library");var dT=bj()+"//"+dR+"/static/fingerprint.js";a5(dT)})();var bT=function(dR){var dW=function(d3,d1){var d0;if(dk(d1,"*")){var d2=new RegExp(d1.split("*").join(".*"));d0=d2.test(d3)}else{d0=d3===d1}A("LeadHunter: compare current: "+d3+", setting: "+d1+" with result = "+(d0?1:0));return d0};var e=cw.location.href,dT=false,dS=false,dY="",dU=0,dX;dX=dR?dR.split(","):[];if(!e||dX.length===0){dT=true}else{dY=aT(e);var dZ;for(var dV=0;dV<dX.length;dV++){dZ=dX[dV].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dZ)){if(dW(dY,dZ.split(/^!/).join(""))){dS=true;break}}else{dU++;if(dW(dY,dZ)){dT=true;break}}}}if(dS){A('LeadHunter: current page "'+dY+'" is disabled by list');return false}if(!dT&&dU>0){A('LeadHunter: current page "'+dY+'" is not listed');return false}A('LeadHunter: current page "'+e+'", cleaned: "'+dY+'" is not disabled in '+dX.length+" list of pages");return true};try{dG()}catch(cH){I(cH)}(function bg(){var ef="empty",dW=false,dR=true,d6=false;var eb={roistat_visit:j(cm),marker:bH,user_agent:cw.navigator.userAgent,current_page:{title:M.title,href:cw.location.protocol+"//"+cw.location.host+cw.location.pathname}};var eg=function(em,el,ek){if(em.addEventListener){em.addEventListener(el,ek,false)}else{if(em.attachEvent){em.attachEvent("on"+el,ek)}else{A("Handler could not be attached")}}};var d8=function(em,ek){if(em===bP||typeof ek!=="string"||ek.length===0){return}var el=em.getElementsByClassName(ek);if(el===bP||el.length===0){return}return el[0]};var eh=function(ek){return typeof ek==="object"&&ek!==null};var dX=function(ek,em,el){if(eh(ek)){if(el){ek.classList.add(em);return}ek.classList.remove(em)}};var ei=cw.visualViewport;var d5="visualViewport" in cw;var d9=function(ek){return(ek===0)?1:ek};var ej=function(){var ek;if(d5){ek=1/d9(ei.scale)}else{ek=cw.innerWidth/d9(cw.outerWidth)}return ek};var ed=function(){return"scale("+ej()+")"};var ec={leadHunter:function(){var f7="roistat-lh-form",eI="roistat-lh-form",ga="roistat-lh-head-text",eW="roistat-lh-head",eE="roistat-lh-thank-you",fn="roistat-lh-thank-you",ep="roistat-lh-close",eq="roistat-lh-submit",e5="roistat-lh-hidden",fM="roistat-lh-wrap",eK="roistat-lh-popup-wrapper",fm="roistat-lh-popup",f9="roistat-lh-agreement",fi="roistat-lh-agreement roistat-lh-mobile",gp="roistat-lh-agreement-input",fY="roistat-lh-agreement-link",ek="roistat-lh-agreement-doc",f3="roistat-lh-alert-row",fu="roistat-lh-agreement",fh="roistat-lh-popup-iframe",fx="roistat_leadHunterUrl",f0="roistat_leadHunterAppearanceUrl",e9="roistat_leadHunterTargetPagesList",eD="roistat_leadHunterCaught",fE="roistat_leadHunterMinTime",e0="roistat_leadHunterAutoShowTime",fB="roistat_leadHunterPulsatorEnabled",eU="roistat_leadHunterScriptsCaught",gq="roistat_leadHunterScriptsShownCount",ff="roistat-lh-load-done",eJ="roistat-lh-close-modal",fO="roistat-lh-script-settings",fN="roistat-lh-setting-size",f4="roistat-lh-before-submit",fy="roistat-lh-before-submit-done",gc="roistat-lh-after-submit",fR="roistat-lh-event-data",fS="roistat-lh-translate-form",gm={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eC=0.3,eO=0.001,eF=false,eR=0,eM=0,eS=0,ge=0,eQ=0,e6=false,eu=false,go=false,eP,f2,fp,fv,fL,eV,gn,gi,fZ,gl,ey,gf,fI,fq,fg,eB,en,e4,eT,e1,fW,f5,eY,f8,gd,e8;var gh={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gb=function(gv){var gu=encodeURIComponent?encodeURIComponent:encodeURI;return gu(gv)};var fQ=function(){if(!cw.roistat.leadHunter.isEnabled){return false}if(cw.roistatLeadHunterInited){return false}cw.roistatLeadHunterInited=true;
if(ct.get(bQ)<1){A("LeadHunter: disabled");return false}return true};var e3=function(){en=ct.get(fx);if(!en){A("LeadHunter: not active cause of empty url");return false}b8();e4=ct.get(f0);ge=ct.get(fE);eQ=cw.roistat.leadHunter.form.autoShowTime===null?ct.get(e0):cw.roistat.leadHunter.form.autoShowTime;dW=ct.get(fB)==1;em();A("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dW?1:0));return true};var fb=function(){return ct.get(eD)>0};var em=function(){if(!(j(ah)>0)){A("LeadHunter: not active, expired for this visit");e6=true}};var ev=function(gu){go=true;e1=fW.src;var gv={version:ab,additionalNotifyEmail:cw.roistat.leadHunter.additionalNotifyEmail,projectKey:be(),language:al,visitId:cN(),moduleTargetOrigin:cw.location.origin,referrer:cw.location.href,windowWidth:cw.innerWidth||0,iframeWrapperWidth:fv.offsetWidth||0,sendRequestUrl:ct.get(fx),message:ff};fW.contentWindow.postMessage(gv,e1);fD();if(gu&&bT(ct.get(e9))){A("Beta Test on, iframe fired, rise up iframe show count state");eo()}};var fe=function(){eu=true;et("click");ev();fK()};var es=function(){var gu=cw.location.hash;if(!gu){return}if(dk(gu,"roistat-lead-hunter")){fe()}};var fc=function eA(){A("LeadHunter: binding timeout");if(e6){A("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eF){A("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eQ>0){var gu=(eR-cA())+eQ*1000;A("LeadHunter: binding timeout with delay "+gu+" ms");clearTimeout(gh.timeoutId);gh.timeoutId=setTimeout(function(){A("LeadHunter: form auto activate with autoTime = "+eQ);if(!eF){A("LeadHunter: show by timeout");eu=true;et("auto");ev(true);fK()}},gu)}else{clearTimeout(gh.timeoutId);A("LeadHunter: auto show time is not positive, feature disabled")}};var f1=function(){fZ.onclick=fL.onclick=fs;gl.onclick=e7;if(eh(gf)){eg(gf,"click",fj)}if(eh(fI)){eg(fI,"change",gs)}var gv=M.getElementsByClassName("roistat-lh-input");if(Array.isArray(gv)){for(var gy=0;gy<gv.length;gy++){eg(gv[gy],"keyup",function(gC){gC=gC||event;var gB=(gC.keyCode?gC.keyCode:gC.which);if(gB==13){e7()}})}}var gw=cw.onresize;cw.onresize=function(gB){if(gw){gw(gB)}f6(gB)};if(!e6){var gu=M.onmouseout;M.onmouseout=function(gB){if(gu){gu(gB)}fH(gB)}}if(dW&&!d4()&&eh(eP)){eP.onmouseover=function(){ar(eP,"roistat-lh-pulsator-hover")};eP.onmouseout=function(){cl(eP,"roistat-lh-pulsator-hover")};eP.onclick=function(){fe()};cw.addEventListener("resize",function gA(){if(eh(eP)){eP.style.transform=ed()}});if(d5){ei.addEventListener("resize",function gz(){if(eh(eP)){eP.style.transform=ed()}})}}var gx=cw.onhashchange;cw.onhashchange=function(){if(gx){gx.apply(this,arguments)}es()}};var gk=function(){if(dW&&!d4()&&eh(eP)){eP.onmouseover=function(){ar(eP,"roistat-lh-pulsator-hover")};eP.onmouseout=function(){cl(eP,"roistat-lh-pulsator-hover")};eP.onclick=function(){fe()};cw.addEventListener("resize",function gy(){eP.style.transform=ed()});if(d5){ei.addEventListener("resize",function gx(){if(eh(eP)){eP.style.transform=ed()}})}}fL.onclick=fs;fW=M.getElementById(fh);if(eh(fW)){eg(fW,"load",function(){ev();gg()})}var gv=cw.onresize;cw.onresize=function(gz){if(gv){gv(gz)}f6(gz)};if(!e6){var gu=M.onmouseout;M.onmouseout=function(gz){if(gu){gu(gz)}if(!ai()){A("ShowLimit: Beta Test off, check cursor usually");fH(gz)}else{A("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fJ()&&!eN()){A("ShowLimit: Check cursor allowed");fH(gz,true)}}}}var gw=cw.onhashchange;cw.onhashchange=function(){if(gw){gw.apply(this,arguments)}es()}};var fr=function(gv){var gu=M.getElementsByClassName(gv);if(gu.length>0){return gu[0]}else{return null}};var fo=function(){var gx=fr("roistat-lh-title");if(eh(gx)&&roistat.leadHunter.form.title){gx.innerHTML=roistat.leadHunter.form.title}var gv=fr("roistat-lh-sub-title");if(eh(gv)&&roistat.leadHunter.form.subTitle){gv.innerHTML=roistat.leadHunter.form.subTitle}var gw=fr("roistat-lh-thank-you");if(eh(gw)&&roistat.leadHunter.form.thankYouText){gw.innerHTML=roistat.leadHunter.form.thankYouText}var gz=fr("roistat-lh-submit");if(eh(gz)&&roistat.leadHunter.form.buttonText){gz.value=roistat.leadHunter.form.buttonText}var gy=fr("roistat-lh-text-label-name");if(eh(gy)&&roistat.leadHunter.form.nameLabel){gy.innerHTML=roistat.leadHunter.form.nameLabel}var gu=fr("roistat-lh-text-label-contact");if(eh(gu)&&roistat.leadHunter.form.contactLabel){gu.innerHTML=roistat.leadHunter.form.contactLabel}};var eL=function(gv,gz,gy){var gu;if(!gv){A("LeadHunter: deactivating, empty form")}else{A("LeadHunter: rendering hidden form")}fL=M.createElement("div");fv=M.createElement("div");fv.innerHTML=gv;fL.className=e5;fv.className=e5;A("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dW?1:0));if(gz&&dW&&gy&&!d4()){var gw=typeof gy.position==="string"&&gy.position!==""?gy.position:"bottomRight";gu=M.createElement("div");gu.innerHTML=gz;eP=gu.childNodes.item(0);f2=eP.childNodes.item(1);fp=eP.childNodes.item(2).childNodes.item(0);f2.setAttribute("style","background: "+gy.button.background+";");
fp.setAttribute("style","fill: "+gy.button.color+";");eP.setAttribute("style","bottom: "+gm[gw].bottom+";right:"+gm[gw].right+";");eP.style.transformOrigin=gm[gw].transformOrigin;eP.style.transform=ed();gh.pulsator.previousClass=eP.className;eP.className=e5;M.body.appendChild(eP)}M.body.appendChild(fL);M.body.appendChild(fv);eV=M.getElementById(eW);gn=M.getElementById(eI);gi=M.getElementById(fn);fZ=M.getElementById(ep);gl=M.getElementById(eq);ey=M.getElementById(f9);fI=M.getElementById(gp);gf=M.getElementById(fY);fq=M.getElementById(ek);fg=M.getElementById(f3);eB=M.getElementById(fu);var gx=fr(eK);eT=eh(gx)&&gx.getAttribute("data-is-iframe");if(eT){gk()}else{fo();f1();es();gg()}};var gj=function(gw){var gv=gw.button&&gw.button.background&&gw.button.color;if(!gv){return}ct.setObject(b9,e8);var gu=typeof gw.position==="string"&&gw.position!==""?gw.position:"bottomRight";if(eh(f2)){f2.setAttribute("style","background: "+gw.button.background+";")}if(eh(fp)){fp.setAttribute("style","fill: "+gw.button.color+";")}if(eh(eP)){eP.setAttribute("style","bottom: "+gm[gu].bottom+";right:"+gm[gu].right+";");eP.style.transformOrigin=gm[gu].transformOrigin;eP.style.transform=ed()}};var ez=function(){var gu=ct.get(ca),gw=ct.get(bE),gv=ct.getObject(b9);eL(cz.decode(gu),cz.decode(gw),gv)};var fa=function(){var gv=fv.clientWidth,gu=fv.clientHeight;if(eh(fv)){fv.setAttribute("style",fv.getAttribute("style")+" width: "+gv+"px; height: "+gu+"px;")}if(eh(gn)){gn.className=e5}if(eh(eV)){eV.className=e5}if(eh(ey)){ey.className=e5}if(eh(gi)){gi.setAttribute("style","width: "+gv+"px; height: "+gu+"px; display: table-cell;");gi.className=eE}setTimeout(function(){A("LeadHunter: close form after timeout");fs()},7000)};var fK=function(){var gv=Math.round((fX()-fv.clientHeight)/2);var gu=Math.round((gt()-fv.clientWidth)/2);if(eh(fv)){fv.setAttribute("style","left: "+gu+"px; top: "+Math.max(0,gv)+"px;")}};var et=function(gv){if(!bT(ct.get(e9))){return}if(cw.roistat.leadHunter.onBeforeAppear){A("LeadHunter: process user defined onBeforeAppear");cw.roistat.leadHunter.onBeforeAppear(gv);if(eT){fD()}}if(eh(fv)){fv.setAttribute("style","left:20px;top:-20px;opacity:0");fv.className=fm}if(eh(fL)){fL.className=fM}if(eh(gn)){gn.className=f7}if(eh(eV)){eV.className=ga}if(eh(ey)){ey.className=fi}if(eh(gi)){gi.setAttribute("style","");gi.className=e5}if(eh(fL)){fL.setAttribute("style","opacity:0;")}eF=true;setTimeout(function(){fL.setAttribute("style","opacity:.5;")},10);var gw=j(cm),gu=e4+"?visit_id="+gw+"&page="+z();X(gu);if(cw.roistat.leadHunter.onAfterAppear){A("LeadHunter: process user defined onAfterAppear");cw.roistat.leadHunter.onAfterAppear(gw,fL,fv,gn);if(eT){fD()}}};var fP=function ft(){eR=cA();ez();A("LeadHunter: form initialized")};var gg=function fd(){A("LeadHunter: tuning appearance for page");if(!bT(ct.get(e9))||(ct.get(a4)&&!ct.get(ac))){A("LeadHunter: disabled on page");gh.leave.isShowEnabled=false;clearTimeout(gh.timeoutId);if(d4()){dR=false;d1()}if(eh(eP)){eP.className=e5}}else{A("LeadHunter: enabled on page");if(!fb()&&!ai()){A("ShowLimit: Beta Test off, bindShowOnTimeout usually");gh.leave.isShowEnabled=true;fc()}if(ai()){A("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fJ()&&!eN()){A("ShowLimit: bindShowOnTimeout allowed");gh.leave.isShowEnabled=true;fc()}}if(eh(eP)){eP.className=gh.pulsator.previousClass}}};var eX=function fG(){A("LeadHunter: processing single page application state change");eR=cA();gg()};var fV=function fk(){aE(eX);var gv=function(){var gB=M.querySelector("html"),gx=600,gA=300,gD=cw.innerWidth,gw=getComputedStyle(gB).zoom,gz={};var gy=function(){var gE=gB.style.cssText.split(";").find(function(gF){return gF.includes("--zoomLevel")});if(gE!==bP){gE=gE.split(":");if(gE.length>1){gE=parseFloat(gE[1])}else{return bP}}return gE};var gC=gy();if(gC!==bP){gw=gC}if(gD<gx&&gD>=gA){gz={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gw};fW.contentWindow.postMessage({sizeSettings:gz,message:fN,windowWidth:cw.innerWidth||0},e1);return}if(gD<gA){gz={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gw};fW.contentWindow.postMessage({sizeSettings:gz,message:fN,windowWidth:cw.innerWidth||0},e1);return}gz={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gw};fW.contentWindow.postMessage({sizeSettings:gz,message:fN,windowWidth:cw.innerWidth||0},e1)};cw.roistatLeadHunterUpdate=gv;am(cw,"load",function(){gv()});am(cw,"resize",function(){gv()});am(cw,"message",function gu(gA){var gF=typeof gA.data==="string"?gA.data:gA.data.message;if(gF===fO){f5=gA.data.scriptId;eY=gA.data.showsLimit;var gE=ct.getObject(s)!==null;if(gE){eQ=gA.data.leadHunterAutoShowTime;ge=gA.data.leadHunterMinTime;e8=gA.data.leadHunterPulsatorSettings;ct.set(fE,ge);ct.set(e0,eQ);if(e8){var gD=Number(e8.isEnabled);A("Leadhunter: set pulsator setting "+gD);ct.set(fB,gD);gj(e8)}}A("ShowLimit: Get lhScriptId: "+gA.data.leadHunterId+" and lhScriptMaxShownCount: "+gA.data.leadHunterMaxShownCount+" from lh widget");fA()}if(gF===eJ){fs()
}if(gF===fN){const gz=typeof gA.data==="object"&&gA.data.calibratingSize!==bP?gA.data.calibratingSize:true;fW.setAttribute("style","width: "+gA.data.width+"px !important; height: "+gA.data.height+"px !important;");if(go&&!gz){fW.contentWindow.postMessage({message:fN,windowWidth:cw.innerWidth||0,calibratingSize:true},e1)}f6(gA)}if(gF===f4){var gy=gA.data.caughtLeadData;if(cw.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gw=cw.roistat.leadHunter.onBeforeSubmit(gy);if(gw){gy=gw}}if(!ai()){A("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");ew()}else{A("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fC()}var gx=ct.getObject(cL);var gC=gx!==null;var gB=gC&&gy.isNeedCallback===null&&!Q(gx);if(gB){gy.isNeedCallback=0}fW.contentWindow.postMessage({caughtLead:gy,message:fy},e1)}if(gF===gc){if(cw.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");cw.roistat.leadHunter.onAfterSubmit({name:gA.data.name,phone:gA.data.phone})}}})};function fD(){var gu={apiData:cw.roistat.leadHunter.form,message:fR};fW.contentWindow.postMessage(gu,e1)}function fA(){if(!fQ()){A("checkLeadHunterLaunch false");return}var gu=ct.getObject(s)!==null;if(gu){ex()}if(!e3()){A("initSettings false");return}A("LeadHunter: activated");fP();gg();fV();if(typeof cw.onRoistatLeadHunterInited==="function"){cw.onRoistatLeadHunterInited()}}function fX(){return(cw.innerHeight?cw.innerHeight:M.documentElement.clientHeight==0?M.body.clientHeight:M.documentElement.clientHeight)}function gt(){return(cw.innerWidth?cw.innerWidth:M.documentElement.clientWidth==0?M.body.clientWidth:M.documentElement.clientWidth)}function fH(gx,gu){gx=gx||event;eS=gx.clientY;var gv=eS/fX(),gz=eM>0&&eM>gv,gw=gv<eO,gy=(cA()-eR)>ge*1000;if(gz&&gw&&!eF&&gy&&gh.leave.isShowEnabled&&!fb()){A("LeadHunter: show modal with because move up ("+eM+" -> "+gv+") and in modal zone and show on leave enabled");et("exit");ev(gu);fl(gx)}if(gv<eC){eM=gv}}function f6(gu){if(eu){fK()}else{gu=gu||event;fl(gu)}}function fl(gz){var gv=gz.type==="message"?gz.data.width:fv.offsetWidth;var gw=gt();var gu=gz.clientX-Math.round(gv/2)||fv.offsetLeft;gu=Math.max(20,Math.min(gu,gw-gv-20));var gA=gu+gv>gw-40;if(gA){var gx=(gu+gv-20)-(gw-40);gu=gu-gx}var gy=gw-40>gv?"":"width: "+(gv-40)+"px;";if(eh(fv)){fv.setAttribute("style","left: "+gu+"px; top: 0px; "+gy)}}function ew(){cw.roistatSetCookie(eD,1,c8)}function fs(){if(!ai()){A("ShowLimit: Beta Test off, setCookieLeadHunterCaught");ew()}if(eh(fL)){fL.setAttribute("style","opacity:0")}if(eh(fv)){fv.style.top="-"+fv.offsetHeight*2+"px";setTimeout(function(){fv.className=fL.className=e5},500)}}function e7(){var gI=M.getElementById("roistat-lh-phone-input"),gw=M.getElementById("roistat-lh-name-input"),gy,gG;gy=gI===null?"":gI.value;gG=gw===null?"":gw.value;var gD={name:gG,phone:gy,isNeedCallback:null,callbackPhone:null,fields:{}};if(cw.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gz=cw.roistat.leadHunter.onBeforeSubmit(gD);if(gz){gD=gz}}var gF=gD.phone.length<1;var gH=gD.phone.indexOf("_")===-1;var gB=!gF&&gH;var gE=gD.name.length<1;var gv=!gE||!cw.roistat.leadHunter.form.isNameRequired;if(!gB&&eh(gI)){gI.setAttribute("style","border: 2px solid #E0571A;");return}if(!gv&&eh(gw)){gw.setAttribute("style","border: 2px solid #E0571A;");return}var gu=en+"?v="+ab+"&lead-hunt-input="+encodeURIComponent(gD.phone)+"&lead-name="+encodeURIComponent(gD.name)+"&visit="+cN();if(gD.isNeedCallback!==null&&gD.isNeedCallback!==bP){gu=gu+"&is_need_callback="+(gD.isNeedCallback>0?1:0)}if(gD.callbackPhone){gu=gu+"&callback_phone="+gD.callbackPhone}if(cw.roistat.leadHunter.additionalNotifyEmail!==null){gu=gu+"&additional_email="+encodeURIComponent(cw.roistat.leadHunter.additionalNotifyEmail)}var gx=0;if(gD.fields&&typeof gD.fields==="object"){for(var gA in gD.fields){if(gD.fields.hasOwnProperty(gA)){++gx}}}if(gx>0){gu=gu+"&fields="+gb(JSON.stringify(gD.fields))}gu=gu+"&t="+cA();var gC=M.createElement("img");gC.src=gu;if(eh(gI)){gI.setAttribute("style","")}if(!ai()){A("ShowLimit: Beta Test off, caught LH usually");ew()}else{A("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fC()}if(!eh(gi)){fs();e2()}else{fa()}if(cw.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");cw.roistat.leadHunter.onAfterSubmit({name:gG,phone:gy})}}function fj(gu){if(gu.preventDefault){gu.preventDefault()}else{gu.returnValue=false}if(eh(fq)){fq.style.display==="block"?fq.style.display="none":fq.setAttribute("style","display: block; padding: 0 30px; width:"+fv.clientWidth+"px;")}f6()}function gs(){if(eh(gl)){gl.disabled===true?gl.disabled=false:gl.disabled=true}if(eh(fg)){fg.style.display==="block"?fg.style.display="none":fg.style.display="block"}}function e2(){M.onmousemove=null;if(eh(fL)){fL.onresize=null}}var eZ=function(gA,gD){if(!gA||!gD){A("LeadHunter: skip phone mask render due to empty input or mask");
return}A("LeadHunter: render phone mask "+gD+" for input: "+gA.value);if(cw.roistatRenderPhoneMaskMutex){return}cw.roistatRenderPhoneMaskMutex=true;var gx="_",gw="x",gz="х",gy=gD.toLowerCase().split(gw).join(gx).split(gz).join(gx);var gv=function(gE){if(gA.setSelectionRange){gA.setSelectionRange(gE,gE)}else{if(gA.createTextRange){var gF=gA.createTextRange();gF.collapse(true);gF.moveEnd("character",gE);gF.moveStart("character",gE);gF.select()}}};var gB=function(gE){if(!gE){return 0}var gF=gE.indexOf(gx);if(gF<0){return gE.length}return gF};var gC=function(gE){gv(gB(gE))};var gu=function(gN){var gO=gy.split("");if(!gN){return gy}var gE=gN.split("");var gP=[],gM,gJ,gL,gI,gG,gF,gK;for(var gH=0;gH<gO.length;gH++){gJ=gO[gH];if(gH>=gE.length){gP.push(gJ);continue}gG=((gH+1)<gO.length)?gO[gH+1]:null;gF=((gH+1)<gE.length)?gE[gH+1]:null;gK=((gH+2)<gE.length)?gE[gH+2]:null;gM=gE[gH];gL=parseInt(gM)>=0;gI=(gJ===gx)&&gL;if(!gI){gP.push(gJ);continue}if(gF===gx&&gG!==gx&&gK!==gG){gP.push(gJ);continue}gP.push(gM)}return gP.join("")};setTimeout(function(){var gE=gu(gA.value);if(gA.value!==gE){gA.value=gE}gC(gE);cw.roistatRenderPhoneMaskMutex=false},1)};var fU=function(gu,gw,gv){ct.set(ca,cz.encode(gu));ct.set(bE,cz.encode(gw));ct.setObject(b9,gv)};var fz=function(gu){al=gu;if(fW===bP){return}el()};var el=function(){var gu={language:al,message:fS};fW.contentWindow.postMessage(gu,e1)};var fC=function(){A("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gu=eG(eU);if(!gu){gu={}}A("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gu[f5]=1;fT(eU,gu)};var eo=function(){A("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gv=eG(gq);if(!gv){gv={}}var gw=gv.hasOwnProperty(f5);if(!gw){A("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gv[f5]=0}var gu=gv[f5]+1>eY;if(gu){A("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}A("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gv[f5]+=1;fT(gq,gv)};var fT=function(gu,gv){dB(gu,JSON.stringify(gv),c8)};var eG=function(gu){var gv=j(gu);if(typeof gv!=="undefined"){return JSON.parse(gv)}return gv};var eN=function(){if(eY===0){A("ShowLimit: show limit off and set to 0");return false}var gu=eG(gq),gv=gu?gu[f5]:null,gw=gv+1>eY;A("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gw);return gw};var fJ=function(){var gw=eG(eU),gu=gw?gw[f5]:null,gv=gu===1;A("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gv);return gv};var ex=function(){ct.set(a4,er());ct.set(ca,cz.encode(fF()));ct.set(e9,eH());ct.set(fB,gr())};var fF=function(){var gu=bj()+"//"+x+"/api/site/1.0/"+be()+"/leadhunter/script/"+ct.get(a4)+"/widget?visit_id="+p();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gu+'" frameborder="0"></iframe></div>'};var er=function(){var gv=ct.getObject(s);if(gv===null){return}ct.set(ac,"");var gz=Number(ct.get(bQ));var gD=Object.keys(gv);var gA=gD.sort()[0];if(!gz){return gA}for(var gy=0;gy<gD.length;gy++){var gE=gv[gD[gy]];var gB=gE.targetPageList;var gx=bT(gB.join(","));var gw=gB.length===0;var gu=Array.isArray(gE.devicesFilter)&&gE.devicesFilter.length>0?gE.devicesFilter.indexOf(H())!==-1:true;var gC=(gw||gx)&&gu&&(!gE.timetable.isEnabled||Q(gE.timetable));if(gC){gA=gD[gy];ct.set(ac,gA)}}return gA};var eH=function(){var gu=fw();return gu!==null?gu.targetPageList.join(","):""};var gr=function(){var gu=fw();return gu!==null?Number(gu.isPulsatorEnabled):0};var fw=function(){var gu=ct.get(a4);var gv=ct.getObject(s);return gv[gu]!==null?gv[gu]:null};cw.roistatLeadHunterShow=fe;cw.roistatRenderPhoneMask=eZ;cw.roistat.leadHunter.localization.translateToRussian=function(){fz(cq)};cw.roistat.leadHunter.localization.translateToEnglish=function(){fz(aD)};cM(fA)},multiwidget:function(){var e1="roistat-multiwidget-hidden",fb="roistat-multiwidget-pulsator-phone",e9="roistat-multiwidget-pulsator-popup-item-lead-hunter",eB="roistat-multiwidget-pulsator-fill",fe="roistat-multiwidget-pulsator-fill-svg",eS="roistat-multiwidget-pulsator-img-icon",eA="roistat-multiwidget-pulsator-popup-item-chat",en="roistat-multiwidget-pulsator-popup-item-facebook",es="roistat-multiwidget-pulsator-popup-item-vk",eR="roistat-multiwidget-pulsator-popup-item-telegram",eH="roistat-multiwidget-pulsator-popup-item-whats-app",eF="roistat-multiwidget-pulsator-popup-item-viber",eW="roistat-multiwidget-pulsator-items-popup-holder",eQ="iframe_chat_successfully_loaded",eu="roistat-multiwidget-pulsator-popup-tail",eN="roistat-online-chat-popup-wrapper",fd="roistat-online-chat-popup-wrapper-hidden",e7="roistat-multiwidget-pulsator-holder-hidden";var ez,eV,eI,fa,ek,eq,fc,eM,ew,em,ex,eo,e3,ep;var eE=false;var e8={topLeft:{bottom:"unset",right:"unset",top:dK()?0:"20px",left:dK()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dK()?0:"35px",top:dK()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:dK()?0:"20px",right:dK()?0:"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dK()?0:"20px",right:"unset",top:"unset",left:dK()?0:"35px",transformOrigin:"bottom left"}};
var et={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eG={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function e0(fg){A("Multiwidget: "+fg)}function eP(){eV=d8(ez,fb);eI=d8(ez,eW);fa=d8(ez,eu);eM=d8(eI,e9);ew=d8(eI,eA);em=d8(eI,es);ex=d8(eI,en);eo=d8(eI,eR);e3=d8(eI,eH);ep=d8(eI,eF);ek=d8(eV,eB);eq=eV.getElementsByClassName(fe);fc=d8(eV,eS)}function eC(){if(eh(eI)){eI.classList.toggle(e1)}}function e6(fg){if(eh(fg)){fg.classList.toggle("opened")}}function ff(){e0("add pulsator events");eg(eV,"click",function(){if(!eK()){eC()}e6(eV)});eg(eM,"click",function(){e0("opening leadhunter via multiwidget");cw.roistatLeadHunterShow();eC();dX(eV,"opened",false)});eg(ew,"click",function(){e0("opening online chat via multiwidget");cw.roistatOnlineChatShow();eC()});eg(em,"click",function(){cw.open(ct.get(c3),"_blank")});eg(ex,"click",function(){cw.open(ct.get(dm),"_blank")});eg(eo,"click",function(){cw.open(ct.get(bz),"_blank")});eg(e3,"click",function(){cw.open(ct.get(bO),"_blank")});eg(ep,"click",function(){cw.open(ct.get(cR),"_blank")})}function eK(){var fg=d8(M,eN);return eh(fg)&&!fg.classList.contains(fd)}function eL(){return eh(eW)&&!eW.classList.contains(e1)}function er(fg){if(eh(fg)){fg.classList.add(e1)}}function eY(fg){if(eh(fg)){fg.classList.remove(e1)}}function eT(){er(eM)}function eJ(){e0("hiding disabled multiwidget options");var fg=Number(ct.get(bQ)),fh=Number(ct.get(cc)),fj=Number(ct.get(U)),fl=Number(ct.get(cO)),fi=Number(ct.get(cZ)),fk=Number(ct.get(dQ));if(!fg||!dW||!dR){e0("hiding leadhunter option");eT()}if(!d0()||!eE){e0("hiding online chat option");er(ew)}if(!fh){e0("hiding vk-messenger option");er(em)}if(!fj){e0("hiding fb-messenger option");er(ex)}if(!fl){e0("hiding telegram-messenger option");er(eo)}if(!fi){e0("hiding whatsApp-messenger option");er(e3)}if(!fk){e0("hiding Viber-messenger option");er(ep)}}function el(){var fh=ct.getObject(f);e0("start filling pulsator");if(fh){if(eh(ek)){ek.setAttribute("style","background: "+fh.button_color+";")}if(eh(fc)){fc.setAttribute("style","fill: "+fh.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eq)){for(var fg=0;fg<eq.length;fg++){eq[fg].setAttribute("style","fill: "+fh.button_color+";")}}}}function eX(){var fg=ct.getObject(f);return typeof fg.position==="string"&&fg.position!==""?fg.position:"bottomRight"}function eU(){if(eh(ez)){var fg=eX();ez.setAttribute("style","top: "+e8[fg].top+";right:"+e8[fg].right+";bottom:"+e8[fg].bottom+";left:"+e8[fg].left+";");ez.style.transformOrigin=e8[fg].transformOrigin;ez.style.transform=ed()}}function eD(){if(eh(eV)){var fg=eX();var fh=fg==="topLeft"||fg==="bottomLeft"?"margin-right":"margin-left";eV.setAttribute("style",fh+": auto")}}function eZ(){if(eh(eI)){var fg=eX();eI.setAttribute("style","top: "+et[fg].top+";right:"+et[fg].right+";bottom:"+et[fg].bottom+";left:"+et[fg].left+";")}}function ev(){if(eh(fa)){var fg=eX();fa.setAttribute("style","top: "+eG[fg].top+";right:"+eG[fg].right+";bottom:"+eG[fg].bottom+";left:"+eG[fg].left+";border-top-color:"+eG[fg]["border-top-color"]+";border-right-color:"+eG[fg]["border-right-color"]+";border-bottom-color:"+eG[fg]["border-bottom-color"]+";border-left-color:"+eG[fg]["border-left-color"]+";")}}function e4(){eU();eD();eZ();ev()}function ey(){var fh=cz.decode(ct.get(dh));if(fh){e0("appending multiwidget pulsator");var fg=M.createElement("div");fg.innerHTML=fh;ez=fg.childNodes.item(0);if(!cw.roistat.multiwidget.isVisible){e0("Hide widget");ez.className=ez.className+" "+e7}M.body.appendChild(ez);eP();eJ();el();e4();ff()}}function eO(){var fm=ct.getObject(at);if(!fm){var fo=parseInt(ct.get(bl));fo=!isNaN(fo)?Boolean(fo):roistat.multiwidget.isEnabled;var fh=Boolean(parseInt(ct.get(cc)))||roistat.multiwidget.vk.isEnabled;var fq=ct.get(c3);fq=fq!=="null"?fq:roistat.multiwidget.vk.link;var fl=Boolean(parseInt(ct.get(U)))||roistat.multiwidget.fb.isEnabled;var fp=ct.get(dm);fp=fp!=="null"?fp:roistat.multiwidget.fb.link;var fi=Boolean(parseInt(ct.get(cO)))||roistat.multiwidget.telegram.isEnabled;var fr=ct.get(bz);fr=fr!=="null"?fr:roistat.multiwidget.telegram.link;
var fg=Boolean(parseInt(ct.get(cZ)))||roistat.multiwidget.whatsApp.isEnabled;var fk=ct.get(bO);fk=fk!=="null"?fk:roistat.multiwidget.whatsApp.link;var fn=Boolean(parseInt(ct.get(dQ)))||roistat.multiwidget.viber.isEnabled;var fj=ct.get(cR);fj=fj!=="null"?fj:roistat.multiwidget.viber.link;fm={is_enabled:fo,vk:{is_enabled:fh,link:fq},fb:{is_enabled:fl,link:fp},telegram:{is_enabled:fi,link:fr},whats_app:{is_enabled:fg,link:fk},viber:{is_enabled:fn,link:fj}}}c9(fm)}function e2(){am(cw,"message",function fg(fk){var fj=typeof fk.data==="string"?fk.data:fk.data.message;if(fj===eQ){eE=true;eY(ew)}});am(cw,"resize",function fi(){if(eh(ez)){ez.style.transform=ed()}});if(d5){am(ei,"resize",function fh(){if(eh(ez)){ez.style.transform=ed()}})}}function e5(){eO();b8();e2();e0("activated");ey();if(typeof cw.onRoistatMultiwidgetInited==="function"){cw.onRoistatMultiwidgetInited()}}d1=eT;cM(e5)},onlineChat:function(){var fp="iframe-module-created",ex="iframe_chat_successfully_loaded",en="iframe-online-chat-opened",et="iframe-online-chat-invite-message",fK="iframe-delivered-messages",fr="roistat-online-chat-init",fo="roistat-online-chat-init-with-text",fb="roistat-online-chat-open",fR="roistat-online-chat-reload",fC="roistat-online-chat-update-custom-params",eK="roistat-online-chat-lead_successfully_sent",fv="roistat-online-chat-translate-form",eV="roistat-online-chat-send-lead",fF="roistat_chat_id",fQ="roistat_chat_session",fq="roistat_chat_custom_position",eE,ey,fG,eu,ez,fD,fi,eP,fg;var fa="roistat-online-chat-popup-iframe",eS="roistat-online-chat-hidden",fH="roistat-online-chat-holder",fB="roistat-online-chat-popup-wrapper",fy="roistat-multiwidget-pulsator-phone",eo="roistat-multiwidget-pulsator-popup-item-chat",ff="roistat-online-chat-popup-wrapper-hidden",eQ="roistat-online-chat-popup-mouse-track",e9="roistat-online-chat-popup-mouse-track-active",eU="roistat-online-chat-pulsator-fill",fE="roistat-online-chat-pulsator-img",e2="roistat-online-chat-pulsator-phone",fT="roistat-online-chat-pulsator-circle",es="."+fT,fx="roistat-online-chat-pulsator-notification-circle",fS="."+fx,eI="roistat-online-chat-pulsator-fill-svg",fe="roistat-online-chat-popup-spacer",eD=".roistat-multiwidget-pulsator-items-popup",eB=".roistat-online-chat-pulsator-phone",e7=".roistat-online-chat-popup-wrapper";var eM=99;var fA="roistat-online-chat-pulsator-notification-limit";var eR=false,eT=false,fj=0,er=0;var fc=".roistat-online-chat-holder";var e1="roistat-online-chat-holder-hidden";if(d4()){fc=".roistat-multiwidget-pulsator-holder";e1="roistat-multiwidget-pulsator-holder-hidden";fT="roistat-multiwidget-pulsator-circle";es="."+fT;fx="roistat-multiwidget-pulsator-notification-circle";fS="."+fx;fA="roistat-multiwidget-pulsator-notification-limit"}var fL;var fP={topLeft:{bottom:"unset",right:"unset",top:dK()?0:"20px",left:dK()?0:"35px"},topRight:{bottom:"unset",right:dK()?0:"35px",top:dK()?0:"20px",left:"unset"},bottomRight:{bottom:dK()?0:"20px",right:dK()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dK()?0:"20px",right:"unset",top:"unset",left:dK()?0:"35px"}};var fd={topLeft:{top:dK()?"90px":"130px",right:"unset",bottom:"unset",left:dK()?"3%":"65px"},topRight:{top:dK()?"90px":"130px",right:dK()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:dK()?"3%":"65px",bottom:dK()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:dK()?"90px":"130px",left:dK()?"3%":"65px"}};var fI={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fn=function(fX){A("onlineChat: "+fX)};var eJ=function(){function fX(){return Math.random().toString(36).substr(2,8)}return fX()+fX()+fX()+fX()};var eA=function(){var fX=ct.get(fQ);if(!fX){fX=eJ();ct.set(fQ,fX)}return fX};var eq=function(){var fX={message:fp,detail:{version:ab,language:t,projectKey:be(),visitId:cN(),firstVisit:ct.get(a6),chatId:j(fF),moduleTargetOrigin:cw.location.origin,referrer:cw.location.href,params:eb,sessionUniqueKey:eA()}};fD.contentWindow.postMessage(fX,fD.src)};var eF=function(){var fX={message:en,detail:{isOpened:fJ()}};fD.contentWindow.postMessage(fX,fD.src)};var eH=function(){var fX={message:fC,detail:{params:eb}};fD.contentWindow.postMessage(fX,fD.src)};var el=function(){var fX={language:t,message:fv};fD.contentWindow.postMessage(fX,fD.src)};var eL=function(fY){var fX={message:fo,detail:{message:fY}};fD.contentWindow.postMessage(fX,fD.src)};var fW=function(fX){var fY={message:fb,detail:{chatId:fX}};fD.contentWindow.postMessage(fY,fD.src)};var fw=function(){am(cw,"message",function fX(f0){var fZ=typeof f0.data==="string"?f0.data:f0.data.message;var fY=typeof f0.data!=="string"?f0.data.detail:{};fn("event: "+fZ+" "+JSON.stringify(fY));switch(fZ){case ex:fz();cw.setRoistatOnlineChatCustomParams=eY;eY(eb);if(typeof cw.onRoistatOnlineChatInited==="function"){cw.onRoistatOnlineChatInited()}break;case fp:eq();break;
case fr:fn("saving chat id = "+fY.chatId);dB(fF,fY.chatId,{path:"/"});break;case fo:fn("saving chat with text id = "+fY.chatId);if(cw.onRoistatChatInit!==bP&&typeof cw.onRoistatChatInit==="function"){cw.onRoistatChatInit(fY.chatId)}dB(fF,fY.chatId,{path:"/"});cw.roistatOnlineChatShow();break;case fb:fn("saving chat id by open chat = "+fY.chatId);dB(fF,fY.chatId,{path:"/"});cw.roistatOnlineChatShow();break;case et:fn("rendering invite message");fs(fY.message);break;case fK:fn("get delivered messages");fV(fY.messages);break;case eV:fn("sending lead");eG(fY.leadData)}})};var eX=function(){var fY=cw.roistat.onlineChat.notificationsCustomHolderSelector;var fX=fY!==null;return M.querySelector(fX?fY:fc)};var eG=function(fX){cw.roistatGoal.reach(fX,function(){fD.contentWindow.postMessage(eK,fD.src)})};var fs=function(f4){if(fJ()){return}var fZ="<div class='roistat-online-chat-message'><img src='"+f4.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+f4.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+f4.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var f3=M.createElement("div");f3.innerHTML=fZ;var f2=eX();if(eh(f2)){var f5=fh()?"beforeend":"afterbegin";f2.insertAdjacentHTML(f5,fZ);var f1=f2.getElementsByClassName("roistat-online-chat-message-close");var fX=f2.getElementsByClassName("roistat-online-chat-message");var f0=f1[fh()?f1.length-1:0];var fY=fX[fh()?f1.length-1:0]}setTimeout(function(){fY.remove()},15000);eg(fY,"click",function(f6){f6.stopPropagation();if(!fJ()){fu()}fM()});eg(f0,"click",function(f6){f6.stopPropagation();fY.remove()})};var fV=function(fZ){var f3=eX();if(eh(f3)){var f4=f3.querySelector(es);var fY=f3.querySelector(fS);var f2=fZ>eM;var f1=f2?eM+"+":fZ;if(fY&&!fZ){fY.remove();return}if(fY){fY.textContent=f1;fY.classList.toggle(fA,f2);return}if(fZ){var fX=f2?fA:"";var f0='<div class="'+fx+fX+'">'+f1+"</div>";f4.insertAdjacentHTML("beforebegin",f0)}}};var fM=function(){var fY=eX();if(eh(fY)){var fX=fY.getElementsByClassName("roistat-online-chat-message");while(fX.length>0){fX[0].remove()}}};var fO=function(){fD=M.getElementById(fa);if(eh(fD)){eg(fD,"load",function(){e8()})}eg(M,"click",function(f2){var f1=cw.roistat.onlineChat.customTriggerSelector;if(d4()){var f3=d8(M,fy);var f0=d8(M,eo);var fZ=fJ()&&f2.target!==f0&&!f0.contains(f2.target);if(fZ){dX(f3,"opened",false)}}else{var fX=d8(M,fH);var fY=fJ()&&f2.target!==fX&&!fX.contains(f2.target);if(fY){dX(fX,"opened",false)}}if(fJ()&&(f2.target.closest(eD)===null&&f2.target.closest(e7)===null&&f2.target.closest(eB)===null&&(f1?f2.target.closest(f1)===null:true))){fu()}})};var em=function(fZ){var fY=fG.getBoundingClientRect().x;var fX=fG.getBoundingClientRect().y;eT=true;ep();fj=fZ.pageX-fY;if(fh()){er=fZ.pageY+fX}else{er=fZ.pageY-fX}};var e0=function(){eT=false;ft();eN()};var ep=function(){if(eh(ey)){ey.classList.add(e9)}};var ft=function(){if(eh(ey)){ey.classList.remove(e9)}};var fk=function(f5){if(eT&&eh(fG)){var fX=fG.getBoundingClientRect();var f4=fX.width;var f3=400;var fY=50;var f8=0;var f0=cw.innerHeight-f3;var f6=f5.pageX-fj;var f2=fY;var fZ=cw.innerWidth-fY-f4;if(fh()){f8=cw.innerHeight-(f5.pageY+fX.y)-20}else{f8=f5.pageY-er}var f7=fN();var f1=f7==="bottomLeft"||f7==="bottomRight"?"top":"bottom";if(f6>=f2&&f6<=fZ){fG.style.left=f6+"px";if(!fU()){fG.style.right="unset"}}if(f8>=50&&f8<=f0){fG.style[f1]=f8+"px"}}};var eN=function(){var fX={position:fN(),top:fG.style.top,left:fG.style.left,bottom:fG.style.bottom,right:fG.style.right};ct.setObject(fq,fX)};var fN=function(){var fX=ct.getObject(f);var fY=typeof fX.position==="string"&&fX.position!=="";return fY?fX.position:"bottomRight"};var fh=function(){var fX=fN();return fX==="topLeft"||fX==="topRight"};var fU=function(){var fX=fN();return fX==="topLeft"||fX==="bottomLeft"};var eO=function(fY){var fX=Math.max(fY*ej(),fY)+"px";eu.style.height=fX;eu.style.marginBottom="-"+fY+"px"};var ew=function(){var f1=fN();var f3=cw.roistat.onlineChat.customPosition;var f5=f3&&f3.top!==null?f3.top:fd[f1].top;var fZ=f3&&f3.right!==null?f3.right:fd[f1].right;var fX=f3&&f3.bottom!==null?f3.bottom:fd[f1].bottom;var f0=f3&&f3.left!==null?f3.left:fd[f1].left;fG=d8(eE,fB);if(eh(fG)){fG.classList.add(ff);fG.setAttribute("style","visibility: hidden;top: "+f5+";right:"+fZ+";bottom:"+fX+";left:"+f0+";");eu=d8(eE,fe);if(eh(eu)){var f4=parseInt(f5==="unset"?fX:f5);eO(f4);cw.addEventListener("resize",function fY(){eO(f4)});if(d5){ei.addEventListener("resize",function f2(){eO(f4)})}}}};var eZ=function(){if(eh(ey)){var fX=fN();ey.setAttribute("style","top: "+fI[fX].top+";bottom:"+fI[fX].bottom+";height:"+fI[fX].height+";")}};var eW=function(){if(eh(fL)){var fX=fN();fL.setAttribute("style","top: "+fP[fX].top+";right:"+fP[fX].right+";bottom:"+fP[fX].bottom+";left:"+fP[fX].left+";")
}};var e4=function(){fn("iframe appending to page");var fX=cz.decode(ct.get(D));eE=M.createElement("div");eE.innerHTML=fX;M.body.appendChild(eE);ey=d8(M,eQ);ew();fO()};var e6=function(){var fY=ct.getObject(f);fn("start filling pulsator");if(fY){if(eh(fi)){fi.setAttribute("style","background: "+fY.button_color+";")}if(eh(eP)){eP.setAttribute("style","fill: "+fY.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fg)){for(var fX=0;fX<fg.length;fX++){fg[fX].setAttribute("style","fill: "+fY.button_color+";")}}}};var fz=function(){var fY=cz.decode(ct.get(bA));var f0=!cX()&&cw.roistatOnlineChatOnly;var fZ=(fY&&!d4()&&d0())||f0;if(fZ){fn("pulsator appending to page");var fX=M.createElement("div");fX.innerHTML=fY;fL=fX.childNodes.item(0);if(!cw.roistat.multiwidget.isVisible){fn("Hide widget");fL.className=fL.className+" "+e1}fi=d8(fL,eU);eP=d8(fL,fE);ez=d8(fL,e2);fg=M.getElementsByClassName(eI);M.body.appendChild(fL);eW();eC();e6()}};var eC=function(){if(eh(fL)){eg(fL,"click",function(){fu();ev(fL)})}};function ev(fX){if(eh(fX)){fX.classList.toggle("opened")}}var fJ=function(){return eh(fG)&&!fG.classList.contains(ff)};var fu=function(){setTimeout(function(){eT=false},3000);if(eh(fG)){fG.classList.toggle(ff)}if(fJ()){fM()}eF()};var fm=function(){var fX=eX();if(eh(fX)){fX.classList.toggle(e1)}};var e3=function(fX){t=fX;if(!eh(fD)){return}el()};var e5=function(fX){if(!eh(fD)){return}eL(fX)};var ek=function(fX){if(!eh(fD)){return}fW(fX)};var e8=function(){eR=true;cw.roistatOnlineChatShow=function(){setTimeout(function(){fu()},0)};cw.roistatMultiwidgetShow=fm;fn("chat window initialized")};function eY(fX){dS(fX);eH()}function fl(){b8();e4();fw()}cw.roistat.onlineChat.actions.initWithMessage=e5;cw.roistat.onlineChat.actions.openChat=ek;cw.roistat.onlineChat.localization.translateToRussian=function(){e3(cq)};cw.roistat.onlineChat.localization.translateToEnglish=function(){e3(aD)};cw.roistat.onlineChat.localization.translate=function(f0){var fZ=cG[cq].includes(f0),fY=cG[aD].includes(f0),fX=f0;if(fZ){fX=cq}if(fY){fX=aD}e3(fX)};cM(fl)}};function d7(ek){A("Widgets: "+ek)}function e(ek){return ek!==ef}function dS(em){var el=Object.keys(em);for(var ek=0;ek<el.length;ek++){eb[el[ek]]=em[el[ek]]}}function d4(){var es=Number(ct.get(bQ)),el=es&&dW&&dR,ew=Number(ct.get(bl)),eo=d0(),et=Number(ct.get(cc)),ep=Number(ct.get(U)),ek=Number(ct.get(cO)),en=Number(ct.get(cZ)),ev=Number(ct.get(dQ)),eu=el||eo||et||ep||ek||en||ev,em=el&&!eo&&!et&&!ep&&!ek&&!en&&!ev,er=eo&&!el&&!et&&!ep&&!ek&&!en&&!ev,ex=!cX()&&cw.roistatOnlineChatOnly,eq=cX()&&dE();A("Is online chat only: "+ex);A("Is rp: "+ex);return ew&&eu&&!er&&!em&&!ex&&!eq}function d0(){var ek=Number(ct.get(c0));if(!ek){A("OnlineChat: Online chat is disabled");return false}var el=ct.getObject(C);if(!el.is_available_for_current_user_agent){A("OnlineChat: Current device group is disabled");return false}if(!el.pages_filter.is_enabled){A("OnlineChat: Pages filter is disabled");return true}return bT(el.pages_filter.pages.join(","))}function d1(){d7("Multiwidget disabled. Hide leadhunter pulsator from module")}function dU(ek,em,el){ct.set(ca,cz.encode(ek));ct.set(bE,cz.encode(em));ct.setObject(b9,el)}function dZ(el,ek){ct.set(dh,cz.encode(el));ct.setObject(f,ek)}function dY(em,ek,el){ct.set(bA,cz.encode(em));ct.set(D,cz.encode(ek));ct.set(c0,el)}function d3(ek,em,el){dU(ek,em,el);ct.set(dh,cz.encode(ef));ct.set(D,cz.encode(ef));d6=false;ec.leadHunter()}function dT(ev,er,ep){var em=ev.form_template,ew=ev.pulsator_template,eo=ev.pulsator_settings;if(dE()){d3(em,ew,eo);return}d7("start initing widgets");var es=ep.pulsator_template,en=ep.iframe_template,eu=er.pulsator_template,ek=er.pulsator_settings,eq=Number(ct.get(bQ)),el=Number(ep.settings.is_enabled),et=ct.getObject(s)!==null;dU(em,ew,eo);dZ(eu,ek);dY(es,en,el);if(et){ct.set(ca,cz.encode(dV()))}d6=true;if(eq&&!aR()){d7("leadhunter enabled. Start processing");ec.leadHunter()}if(d0()){d7("online chat enabled. Start processing");ec.onlineChat()}if(d4()){d7("multiwidget enabled. Start processing");ec.multiwidget()}}var dV=function(){var ek=bj()+"//"+x+"/api/site/1.0/"+be()+"/leadhunter/script/"+ct.get(a4)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ek+'" frameborder="0"></iframe></div>'};function ee(){var em=ct.get(ca),ex=ct.get(bE),eo=ct.getObject(b9),er=Number(ct.get(bQ)),es=ct.get(bA),en=ct.get(D),el=ct.get(c0),eu=ct.get(dh),ek=ct.getObject(f);cw.roistatLeadhunterForm=d3;cw.roistatMultiwidget=dT;if(!em||!ex||!eo||!eu||!ek||!es){d7("requesting data from server");if(d4()||d0()||er){a5(bj()+"//"+x+"/api/site/"+ao+"/"+be()+"/multiwidget?domain="+encodeURIComponent(M.domain))}}else{var ew=cz.decode(eu);var et=cz.decode(en);if((!e(ew)||!e(et)||dE())&&!aR()){d7("initing LeadHunter form");cw.roistatLeadhunterForm(cz.decode(em),cz.decode(ex),eo)}else{d7("initing multiwidget form");var ep={pulsator_template:ew,pulsator_settings:ek},eq={form_template:cz.decode(em),pulsator_template:cz.decode(ex),pulsator_settings:eo},ev={iframe_template:et,pulsator_template:cz.decode(es),settings:{is_enabled:Number(el)}};
cw.roistatMultiwidget(eq,ep,ev)}}}function d2(){ee();d7("form initialized")}function ea(){d7("activated");d2()}cM(ea);cw.setRoistatOnlineChatCustomParams=dS;cw.roistatSaveLeadHunterTemplates=dU;cw.roistatSaveMultiwidgetTemplate=dZ;cw.roistatSaveOnlineChatTemplate=dY})();(function u(){var d3=function(){return j(dI)};var d1=function(){return ct.get(bt)};var dU=function(){return ct.get(bG)};var d7=function(d9){return d9!=null&&d9!==bP&&d9!==""};var d6=function(){var d9=[];var ea=M.getElementsByClassName(ay);if(ea&&ea.length){d9=ea}return d9};var dS=function(){var d9=[];var ea=M.getElementsByClassName(L);if(ea&&ea.length){d9=ea}return d9};var dR=function(){var d9=[];var ea=M.getElementsByClassName(aq);if(ea&&ea.length){d9=ea}return d9};var dW=function(){var d9=[];var ea=M.getElementsByClassName(O);if(ea&&ea.length){d9=ea}return d9};var dZ=function(){var d9=[];var ea=M.getElementsByClassName(dA);if(ea&&ea.length){d9=ea}return d9};var e=function(em,ea){A("CallTracking: RenderPhone phone = "+em);var ef=function(eo){return eo.split(/[^0-9]/).join("")};var eg=function(er,et){var ew=null;if(!er){return ew}var eo=et.split(",");if(eo.length<2){ew=et}else{var ep=er.getAttribute("data-prefix");if(ep){for(var es=0;es<eo.length;es++){var eu=eo[es];var ev=ef(eu);if(ev.indexOf("8")===0){ev="7"+ev.substring(1)}var eq=ev.split(ep)[0]==="";if(eq){ew=eu;break}}}if(ew===null){ew=eo[0]}A("CallTracking._getPhoneForElement: Prepared phone = "+ew+" for data-prefix = "+ep)}return ew};var ed=function(es,eq){var eo=eg(es,eq);if(!eo||!es){return}if(es.tagName.toLowerCase()!=="a"){return}var er=es.getAttribute("href");if(dk(er,"tel:")){var ep=ef(eo);if(ep.indexOf("8")===0){ep="7"+ep.substring(1)}es.setAttribute("href","tel:+"+ep);ee(es,eo)}};var ee=function(ep,eo){if(!ep.hasAttribute("title")){return}ep.setAttribute("title",eo)};var ei=function(eq,ep){var eo=eg(eq,ep);if(!eo||!eq){return}eq.innerHTML=eo};var en=function(eo){var ep=d6();A("CallTracking: render phone default classes for "+ep.length+" elements");r(ep,function(eq){ei(eq,eo);ed(eq,eo)});r(dS(),function(er){var eq=ef(eg(er,eo)).slice(0,1);ei(er,eq)});r(dR(),function(er){var es=eg(er,eo).match(/\((.*)\)/);if(es!==null){var eq=es[1];ei(er,eq)}});r(dW(),function(es){var eq=eg(es,eo).match(/\)(.*)/);if(eq!==null){var et=ef(eq[1]);var er=et.slice(-1*et.length,-4)+"-"+et.slice(-4,-2)+"-"+et.slice(-2);ei(es,er)}});r(dZ(),function(eq){ed(eq,eo)})};var el=function(eo,et){if(!et){return}A("CallTracking: render phone user replacement for "+et.length+" replacements");for(var es=0;es<et.length;es++){var ev=et[es];if(!ev){continue}var eq=ev[0];ev=ev.substr(1);var eu=[];if(eq==="#"){var er=M.getElementById(ev);if(er!==null){eu.push(er)}}else{eu=M.getElementsByClassName(ev);ec(ev,eo)}if(!eu||eu.length<1){continue}A("CallTracking: render phone for "+ev+", "+eu.length+" elements");for(var ep=0;ep<eu.length;ep++){ei(eu[ep],eo);ed(eu[ep],eo)}}};var eh=function(eo){for(var ep=0;ep<eo.length;ep++){el(eo[ep].phone,eo[ep].css_selectors);ek(eo[ep].phone,eo[ep].replaceable_numbers)}};var ek=function(eq,ep){if(!ep||ep.length===0){return}var eo=function(){var eB=eu();var eA=M.getElementsByTagName("*");var ev=eA.length;for(var ez=0;ez<ev;ez++){var eC=eA[ez];er(eC,eB,eg(eC,eq));var ey=eC.childNodes.length;for(var ew=0;ew<ey;ew++){var ex=eC.childNodes[ew];et(ex,eB,eg(ex,eq))}}};var er=function(ez,ey,ev){if(!es(ez)){return}var eA=ez.getAttribute("href").replace("tel:","");var ex=ey.length;for(var ew=0;ew<ex;ew++){if(ey[ew].test(eA)){ed(ez,eg(ez,ev))}}};var es=function(ew){if(ew.tagName.toLowerCase()!=="a"){return false}var ev=ew.getAttribute("href");return a9(ev)&&ev.indexOf("tel:")===0};var eu=function(){var ex=[];for(var ev=0;ev<ep.length;ev++){var ew="[\\s()[\\]{}\\-+.]*";var ey=ep[ev].split("").join(ew);ex.push(new RegExp("[+(]?"+ey,"g"))}return ex};var et=function(ey,ex,ev){if(ey.nodeType!==Node.TEXT_NODE){return}for(var ew=0;ew<ex.length;ew++){if(ey.textContent&&ex[ew].test(ey.textContent)){ey.textContent=ey.textContent.replace(ex[ew],ev)}else{if(ey.innerText&&ex[ew].test(ey.innerText)){ey.innerText=ey.innerText.replace(ex[ew],ev)}}}};eo()};var ec=function(ep,eo){r(eb(ep+"-"+bY),function(er){var eq=ef(eg(er,eo)).slice(0,1);ei(er,eq)});r(eb(ep+"-"+aX),function(er){var es=eg(er,eo).match(/\((.*)\)/);if(es!==null){var eq=es[1];ei(er,eq)}});r(eb(ep+"-"+bs),function(es){var eq=eg(es,eo).match(/\)(.*)/);if(eq!==null){var et=ef(eq[1]);var er=et.slice(-1*et.length,-4)+"-"+et.slice(-4,-2)+"-"+et.slice(-2);ei(es,er)}});r(eb(ep+"-"+ch),function(eq){ed(eq,eo)})};var eb=function(ep){var eo=[];var eq=M.getElementsByClassName(ep);if(eq&&eq.length){eo=eq}return eo};var ej=function ej(){var ep=dU();if(ep){ep=ep.split("\n");for(var eo=0;eo<ep.length;eo++){ep[eo]="."+ep[eo]}}if(ea instanceof Array){eh(ea)}else{en(em);el(em,ep)}};(function d9(){ej();var eo=[300,5000,15000];eo.forEach(function(ep){setTimeout(ej,ep)})})()};var dT=function(d9){ct.save(o,d9,c8)};var d2=function(){if(cw.roistat.callTracking.phone){var d9={expires:parseInt(cw.roistat.callTracking.sessionTime),path:"/"};
if(c8.domain){d9.domain=c8.domain}dB(dI,cw.roistat.callTracking.phone,d9);dT(1);ct.save(bG,cw.roistat.callTracking.replacementClasses,c8);ct.save(bt,cw.roistat.callTracking.phoneScriptsJson,c8)}};var d0=function(ea,ee,ec,eb){A("CallTracking: reuse phone "+ea+" for time "+ee+" and replacements "+ec);var d9='script[data-roistat-script-id="'+Z+'"]';M.querySelectorAll(d9).forEach(function(eh,eg){if(eg===0){return}eh.remove()});A("CallTracking: all old scripts removed");if(!d7(ea)){A("CallTracking: new phone is invalid");roistat.callTracking.phone=null;dn();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=ea;roistat.callTracking.sessionTime=ee;roistat.callTracking.replacementClasses=ec;roistat.callTracking.phoneScriptsJson=eb;dn();d2();var ef={expires:parseInt(ee),path:"/"};if(c8.domain){ef.domain=c8.domain}dB(dI,ea,ef);ct.save(bt,eb,c8);ct.save(bG,ec,c8);var ed=dt(eb);if(ed==null){e(ea)}else{e(ea,ed)}};var dV=function(){A("CallTracking: request new phone");var d9=j(cm);var ed=au();var ec=ed?ed:bH;var eb=encodeURIComponent(cK);var ea=S()+"/get-phone?visit="+d9+"&marker="+(ec?ec:"")+"&prefix="+cU+"&prefix_bind="+dJ+"&phone_scripts_bind="+W+"&page="+eb;a5(ea,Z)};var dX=function(){cU=cw.roistatPhonePrefix?cw.roistatPhonePrefix:"";dJ=cw.roistatPhonePrefixBind?cw.roistatPhonePrefixBind:"";W=cw.roistatCalltrackingScripts&&cw.roistatCalltrackingScripts.join?cw.roistatCalltrackingScripts.join(","):"";A("CallTracking: refresh phone with prefix: "+cU+", binding: "+dJ+", scripts: "+W);dV()};var d8=function(){var d9=ct.get(o)>0;var ea=cb.callTrackingEnabled;return d9&&ea};var dY=function(d9){dT(d9.is_enabled)};var d5=function d5(){var d9=d3();if(!d7(d9)){A("CallTracking: invalid phone "+d9+", requesting a new one");dV()}else{A("CallTracking: render phone "+d9);var ea=dt(d1());if(ea==null){e(d9)}else{e(d9,ea)}}};var d4=function(){A("CallTracking: init");if(aR()){A("CallTracking: Shut down because only online chat need to be inited");return}d2();if(!d8()){A("CallTracking: disabled, skip");return}if(cb.callTrackingManual){A("CallTracking: init finish because off manual");return}d5();aE(d5)};cw.roistatCallTrackingRefresh=dX;cw.roistatRequestNewPhone=dV;cw.roistatReusePhone=d0;cw.roistatCalltrackingUpdateSettings=dY;cM(d4)})();(function G(){var dS=function(dY){A("Emailtracking: "+dY)};var dW=function(dY,d0,dZ){ct.save(bF,dY,c8);ct.save(b,d0,c8);ct.save(bU,JSON.stringify(dZ),c8)};var dR=function(){var dY=(cw.roistat.emailtracking.email&&cw.roistat.emailtracking.trackingEmail)||aY(cw.roistat.emailtracking.emails);if(cw.roistat.emailtracking.loaded&&dY){dS("save loaded email: "+cw.roistat.emailtracking.email);dW(cw.roistat.emailtracking.email,cw.roistat.emailtracking.trackingEmail,cw.roistat.emailtracking.emails)}else{dS("settings save skip, because not loaded");cw.roistat.emailtracking.email=ct.get(bF);cw.roistat.emailtracking.email=cw.roistat.emailtracking.email?cw.roistat.emailtracking.email:null;cw.roistat.emailtracking.email=cw.roistat.emailtracking.email==="null"?null:cw.roistat.emailtracking.email;dS("email loaded from storage: "+cw.roistat.emailtracking.email);cw.roistat.emailtracking.trackingEmail=ct.get(b);cw.roistat.emailtracking.trackingEmail=cw.roistat.emailtracking.trackingEmail?cw.roistat.emailtracking.trackingEmail:null;cw.roistat.emailtracking.trackingEmail=cw.roistat.emailtracking.trackingEmail==="null"?null:cw.roistat.emailtracking.trackingEmail;dS("tracking email loaded from storage: "+cw.roistat.emailtracking.trackingEmail);cw.roistat.emailtracking.emails=dt(ct.get(bU));cw.roistat.emailtracking.emails=cw.roistat.emailtracking.emails?cw.roistat.emailtracking.emails:null;dS("emails loaded from storage: "+JSON.stringify(cw.roistat.emailtracking.emails))}};var dU=function(dY){dW(dY.email,dY.trackingEmail,dY.emails)};var dT=function(){var dY=(!!cw.roistat.emailtracking.email&&!!cw.roistat.emailtracking.trackingEmail)||aY(cw.roistat.emailtracking.emails);return cw.roistat.emailtracking.enabled&&dY};var e=function(){if(!dT()){dS("emailtracking disabled, skip swapping");return}var dZ=function(d4,d5,d3){if(d4.href){var d2=aL(d4.href);if(d5.test(d2)){d4.href=d2.replace(d5,d3);return true}}if(d4.nodeType!==3){return false}if(d4.textContent&&d5.test(d4.textContent)){d4.textContent=d4.textContent.replace(d5,d3);return true}else{if(d4.innerText&&d5.test(d4.innerText)){d4.innerText=d4.innerText.replace(d5,d3);return true}}return false};var dY=function(d2){return d2.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var d0=function(d4,d3){var d2=!d3.match(/[a-z]/);return d2?d4.toUpperCase():d4};var d1=function(ea,ec){var ed=dY(ea);var d4=new RegExp("(^|\\s)(mailto:)?("+ed+")($|\\s|\\?)","gi");var ee=function(ej,eh,ef,eg,ei){ef=ef||"";return eh+ef+d0(ec,eg)+ei};dS("starting to replace email "+ea+" to "+ec+" with regexp "+d4);var d3=M.getElementsByTagName("*");var d6=d3.length;dS("found "+d6+" nodes on page");var d9=0;for(var d8=0;d8<d6;d8++){var d5=d3[d8];var eb=d5.childNodes.length;if(eb>0){for(var d7=0;d7<eb;
d7++){var d2=d5.childNodes[d7];if(dZ(d2,d4,ee)){d9++}}}if(dZ(d5,d4,ee)){d9++}}dS("successfully replaced "+d9+" nodes")};if(cw.roistat.emailtracking.emails){bw(cw.roistat.emailtracking.emails,d1)}else{d1(cw.roistat.emailtracking.email,cw.roistat.emailtracking.trackingEmail)}};var dV=function(){dS("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dX=function(){dS("init");if(aR()){dS("Shut down because only online chat need to be inited");return}aE(dV);dR();dV()};cw.roistatEmailtrackingUpdateSettings=dU;cw.roistat.emailtracking.refresh=e;cM(dX)})();(function by(){var dT=function(dV){A("MultiDomain: "+dV)};var dS=function(){return ct.get(da)>0};var dR=function(dZ){var d0=function(d2){if(!d2){return false}if(dk(d2,"roistat_visit")){return false}var d1=bi(d2);var d4=bi(M.domain);var d3=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return d1!==d4&&d3.test(d2)};var dY=function(d4){var d5=d4.split("#");var d3=d5[0].split("?");var d1="";var d2="";if(d3.length===2){d1=d3[1]}if(d1){d2="&"}d1=d1+d2+"roistat_visit="+roistat.getVisit();d3[1]=d1;d5[0]=d3.join("?");return d5.join("#")};if(dZ.tagName.toLowerCase()!=="a"){return}var dX=dZ.getAttribute("href");var dW=false;if(d0(dX)){var dV=dY(dX);dT("update url "+dX+" > "+dV);dZ.setAttribute("href",dV);dW=true}return dW};var e=function(){if(!dS()){dT("disabled, skip");return}var dV=M.getElementsByTagName("a");var dW=dV.length;dT("found "+dW+" <a> nodes on page");var dZ=0;for(var dX=0;dX<dW;dX++){var dY=dV[dX];if(dR(dY)){dZ++}}dT("replaced "+dZ+" nodes")};var dU=function(){dT("init");if(aR()){dT("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cM(dU)})();(function dj(){var e=60*1000;var dX=2*60*1000;var dR=function(dZ){A("SettingsUpdater: "+dZ)};var dV=function(){ct.set(af,cA())};var dW=function(){var d0=dq();var dZ=!(d0>0);dR("is first update check: lastUpdateTime="+d0+", result="+(dZ?1:0));return dZ};var dY=function(){var d1=cA()-dX;var d0=dq();var dZ=d0<=d1;dR("expiration check: _minTime="+d1+", lastUpdateTime="+d0+", result="+(dZ?1:0));return dZ};var dS=function(d0){var dZ=j(cm);a(dZ,d0)};var dT=function(d0){dR("update settings and save last update time");var dZ=ct.getObject(s)!==null;if(dZ){var d1=dt(d0.js_settings.leadHunterTargetPagesMap);if(d1!==null){ct.setObject(s,d1)}}cw.roistatCalltrackingUpdateSettings(d0.calltracking);cw.roistatEmailtrackingUpdateSettings(d0.emailtracking);cw.roistatSaveLeadHunterTemplates(d0.leadhunter_templates.form_template,d0.leadhunter_templates.pulsator_template,d0.leadhunter_templates.pulsator_settings);cw.roistatSaveMultiwidgetTemplate(d0.multiwidget_templates.pulsator_template,d0.multiwidget.pulsator_settings);cw.roistatSaveOnlineChatTemplate(d0.online_chat_templates.pulsator_template,d0.online_chat_templates.iframe_template);cw.roistatSaveProxyFormSettings(d0.proxy_forms);bm(d0.js_settings);c9(d0.multiwidget.multiwidget_settings);cx(d0.online_chat);w(d0.geo);cI(d0.promo_code);co.isSettingsUpdating=false;dV()};var dU=function(){dR("init");if(dW()){dR("in first update we just start first timer and skip");dV();return}if(!dY()){dR("update is not not expired, skip");return}dR("start to update settings");dS()};cM(function(){cw.roistatUpdateSettings=dT;setTimeout(function(){dU()},3000);dR("set interval to update settings");setInterval(function(){dU()},e)})})();(function b3(dU,e,dW){var dT={};var dR=function(dY){var dX=encodeURIComponent?encodeURIComponent:encodeURI;return dX(dY)};var dS=function(d4,dY){A("Reach goal start");if(!d4){d4={}}var d1={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cN(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var d0 in d1){if(!Object.prototype.hasOwnProperty.call(d1,d0)){continue}if(!Object.prototype.hasOwnProperty.call(d4,d0)){continue}if(!d4[d0]){continue}if(d0==="fields"||d0==="client_fields"||d0==="items"||d0==="placeholders_data"){d4[d0]=JSON.stringify(d4[d0])}d1[d0]=dR(d4[d0])}var d3=be();var d2=bj()+"//"+x+"/api/site/"+ao+"/"+d3+"/reach-goal?v=2";for(var dZ in d1){if(!Object.prototype.hasOwnProperty.call(d1,dZ)){continue}d2=d2+"&"+dZ+"="+d1[dZ]}if(dY!==dW){var dX=Math.random().toString();dT[dX]=dY;d2+="&callback_key="+dX}a5(d2);A("Reach goal completed")};var dV=dU.roistatGoal={reach:function(dY,dX){dS(dY,dX)},callAfterReachCallback:function(dX){if(Object.prototype.hasOwnProperty.call(dT,dX)){dT[dX]();delete dT[dX]}}}})(cw,M,bP);(function dD(dS,e,dT){var dR=function(dY){if(dY instanceof Array||dY===null||typeof dY!=="object"){A("Invalid event data");return""}var dV=[];for(var dX in dY){if(Object.prototype.hasOwnProperty.call(dY,dX)){var dW=dY[dX];if(typeof dW==="string"||typeof dW==="number"){dV.push("data["+encodeURIComponent(dX)+"]="+encodeURIComponent(dW))}else{A("Event data property ignored: "+dX)
}}}return dV.length>0?"&"+dV.join("&"):""};var dU=function(dX,dY){A("Send event start");var dV=p();I("Name: "+dX+" Data: "+dR(dY)+" VisitId: "+dV);var dW=S()+"/event/register?visit="+dV+"&event="+dX+dR(dY);a5(dW);A("Send event completed")};dS.roistat.event={send:function(dV,dW){dU(dV,dW)}}})(cw,M,bP);(function cu(d0,d2,dT){if(aR()){A("VisitApprove: Shut down because only online chat need to be inited");return}var d3=d0.roistatIsInitVisit===true?20000:10000;var dS=(new Date()).getTime();var dR=function(d7){return"approve_visit_"+d7};var dZ=function(d7){cj.set(dR(d7),1)};var d4=function(d7){return cj.get(dR(d7))>0};var e,dV,d6=[];if(d2.addEventListener){e=function(d8,d7,d9){return d8.addEventListener(d7,d9,false)};dV=function(d8,d7,d9){return d8.removeEventListener(d7,d9,false)}}else{e=function(d8,d7,d9){return d8.attachEvent("on"+d7,d9)};dV=function(d8,d7,d9){return d8.detachEvent("on"+d7,d9)}}var dY=function(ea){if(d6.length>30){return}ea=ea||d0.event;if(!ea||!ea.screenX){return}var d9=(new Date()).getTime();var ec,eb=null;if(d6.length>0){eb=d6[d6.length-1]}if(eb){ec=d9-eb.time}else{ec=d9-dS}if(ec<300){return}ec=ec-300;var ee=0;var d7=ea.screenX;var ed=ea.screenY;if(eb){ee=parseInt(Math.sqrt(Math.pow(eb.y-ed,2)+Math.pow(eb.x-d7,2)))}var d8={time:d9,pauseBeforeMove:ec,x:d7,y:ed,distance:ee};d6.push(d8)};var dX=function(){var d7=[];r(d6,function(d8){var d9=[d8.pauseBeforeMove,d8.distance];d7.push(d9.join(":"))});if(d7.length===0){d7.push("0:0")}return d7.join("|")};var dU=function(){for(var d7 in d0){if(dk(d7,"yaCounter")){return true}}return false};var d1=function(){dV(d2,"mousemove",dY);var d7=p();A("VisitApprove: start for visit "+d7);if(d4(d7)){A("VisitApprove: visit already approved, skip");return}dZ(d7);aH();var d8=S()+"/approve?v="+ab+"&visit="+d7;if(d5()){d8+="&hash="+az()}if(dW()){d8+="&page_params="+encodeURIComponent(JSON.stringify(d0.roistat.page.params));g()}d8+="&mv="+dX();d8+="&pl="+(d0.navigator?d0.navigator.platform:"");d8+="&ym="+(dU()?"1":"0");d8+="&wd="+(d0.navigator?(d0.navigator.webdriver===true?"1":"0"):"0");a5(d8)};var d5=function(){var eb=co.cookies,ea=n();var ed=bp();for(var d8=0;d8<ed.length;d8++){var ec=ed[d8];var ee=Object.prototype.hasOwnProperty.call(eb,ec)?eb[ec]:dT;var d7=Object.prototype.hasOwnProperty.call(ea,ec)?ea[ec]:dT;var d9=typeof d7==="string"&&d7.length>0;if(d9&&ee!==d7){return true}}return false};var dW=function(){var ec=co.pageParams,d9=d0.roistat.page.params;for(var d8=0;d8<cV.length;d8++){var d7=cV[d8];var ea=Object.prototype.hasOwnProperty.call(ec,d7)?ec[d7]:null;var eb=Object.prototype.hasOwnProperty.call(d9,d7)?d9[d7]:null;if(eb!==ea){return true}}return false};setTimeout(function(){d1()},d3);e(d2,"mousemove",dY)})(cw,M,bP);(function aF(dW,dX,dS){var dU=function(){return ae("roistat_ab_demo")==="1"};var dY=function(d1){return new RegExp(d1.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dV=function(d6){var d1=dW.location.href,d4=d6.filter,ea=d6.filterValue;var d7;switch(d4){case"except":case"pages":var d2,d9,d8=false;d9=d1?aT(d1):"";d7=ea?ea.split("\n"):[];if(d9&&d7.length!==0){for(var d3=0;d3<d7.length;d3++){var d5=d7[d3].trim();if(d5.length===0){continue}d2=dY(d5);if(d2.test(d9)){d8=true;break}}}return(d4==="pages")?d8:!d8;break;case"all":default:return true}};var dR=function(d3){var d1=dX.getElementsByTagName("head")[0],d2;d2=dX.createElement("style");d2.setAttribute("type","text/css");if(d2.styleSheet){d2.styleSheet.cssText=d3.value}else{d2.innerText=d3.value}d1.appendChild(d2);A("Applied css-test: "+d3.id)};var e=function(d1){if(Object.prototype.hasOwnProperty.call(c7.onAbTestsApplied,d1.id)){c7.onAbTestsApplied[d1.id](d1.value)}A("Applied uniform-test: "+d1.id)};var dT=function(d1){if(dV(d1)){switch(d1.type){case"css":dR(d1);break;case"uniform":e(d1);break}}};dW.applyTests=function(){A("Start applying ab tests");var d1=ct.getObject("abTesting");var d3,d2;for(d3 in d1){if(!Object.prototype.hasOwnProperty.call(d1,d3)){continue}d2=d1[d3];dT(d2)}co.isAbTestsApplied=true;A("End applying ab tests");if(dW.onRoistatAbTestsApplied!==dS&&typeof dW.onRoistatAbTestsApplied==="function"){dW.onRoistatAbTestsApplied()}};var dZ=function(){A("Call: apply demo AB test");var d1=ae("roistat_ab_data");var d2;if(d1===null){return}else{d2=JSON.parse(cz.decode(d1))}if(typeof d2!=="object"){A("Error: testValue is not an object.");return}dT(d2)};function d0(){if(aR()){A("ABTest: Shut down because only online chat need to be inited");return}var d1=dU();if(!df&&!d1){applyTests()}if(d1){dZ()}}d0()})(cw,M,bP);(function cS(dR,e,dS){if(aR()){A("visitStream: Shut down because only online chat need to be inited");return}if(!di){return}setTimeout(function(){(function(dZ,dY,d2,d1,dW,dU,dX){dZ[dW]={COUNTER_ID:dU,HOST:dX};var dV=dY.location.protocol=="https:"?"https://":"http://";var dT=dY.createElement(d2);dT.async=1;dT.src=dV+dX+d1;var d0=dY.getElementsByTagName(d2)[0];d0.parentNode.insertBefore(dT,d0)})(dR,e,"script","/counter.js","datamap",be(),di)},1000)})(cw,M,bP);
(function cr(dS,e,dT){var dU=function(){var dV=dS.roistatMetrikaCounterId;if(dV){ct.set(a7,dV)}};var dR=function(d0){var dV="yaCounter"+d0;var dZ=100,dX=0,dY=60000;var dW=function(){dX+=dZ;A("YandexMetrika: trying to access counter "+d0);if(dS[dV]===dT){if(dX<dY){setTimeout(dW,dZ);dZ*=2}return}var d1={};d1[c5]=p();dS[dV].params(d1);A("YandexMetrika: visit id "+d1[c5]+" sent to counter "+d0)};setTimeout(dW,dZ)};cM(function(){dU();var dX=ct.get(a7);if(!dX){A("YandexMetrika: counter id not found");return}var dW=String(dX).split(",");A("YandexMetrika: counters: "+dW);for(var dV=0;dV<dW.length;dV++){if(dW[dV].trim()===""){continue}dR(dW[dV])}})})(cw,M,bP);(function aA(d0,d4){var d8=function(eb){A("Proxy Forms: "+eb)};var dX=function(){if(d0.roistat.proxyForms.loaded&&d0.roistat.proxyForms.settings.length>0){d8("save loaded settings");d5(d0.roistat.proxyForms.settings)}else{d8("settings not loaded, getting from storage");d0.roistat.proxyForms.settings=ct.getObject(dC)||[]}};var d5=function(eb){ct.setObject(dC,eb)};var d1=function(){d8("init form listener");dT(d0.roistat.proxyForms.settings);e(d0.roistat.proxyForms.settings)};var ea=function(eb){return eb.hasOwnProperty("hosts")&&eb.hasOwnProperty("is_excluding_hosts")&&bD(eb.hosts)&&eb.hosts.length>0};var dV=function(ec){if(!ea(ec)){return true}var ed=dr(ec.hosts,bi(d0.location.host));var eb=Boolean(ec.is_excluding_hosts);return eb?!ed:ed};var dS=function(ec){var eb=[];r(ec,function(ed){if(dV(ed)){eb.push(ed)}});return eb};var e=function(eb){var ed=[];r(eb,function(ee){if(ee.type==="js-button"){ed.push(ee)}});if(ed.length<1){d8("no button settings");return}var ec;if(d4.addEventListener){ec=function(ee){dW(ed,ee,ee.target,dU)};d4.addEventListener("click",ec,true)}else{if(d4.attachEvent){ec=function(){var ee=d0.event;dW(ed,ee,ee.srcElement,dU,true)};d4.attachEvent("onclick",ec)}else{d8("Listener could not be attached")}}};var dT=function(ec){I("Proxy form debug: start");var eb=[];r(ec,function(ee){if(ee.type==="form"){eb.push(ee)}});if(eb.length<1){d8("no form settings");return}if(d4.addEventListener){var ed=function(ee){dW(eb,ee,ee.target,d9)};d4.addEventListener("submit",ed,true)}else{if(d4.attachEvent){setInterval(function(){eb=dS(eb);var ee=d4.getElementsByTagName("form");r(ee,function(ef){if(ef.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ef.setAttribute("data-roistat-proxy-form-checked","true");r(eb,function(eg){if(dR(ef,eg.selector)){ef.attachEvent("onsubmit",function(){d0.event.returnValue=false;I("Proxy form debug: start sending form lead");d9(eg,d0.event.srcElement)})}})})},2000)}else{d8("Listener could not be attached")}}};var dW=function(ee,ef,eg,ed,eb){var eh=dS(ee);var ec=null;r(eh,function(ei){if(dR(eg,ei.selector)){ec=ei}});if(ec===null){d8("No matched settings found for listener");return}ed(ef,ec,eg,eb)};var d9=function(ef,ed,ee,ec){var eb=d3(ee,ed);if(!d6(eb,ed)){I("Proxy form debug: lead fields is not valid");return}ec?ef.returnValue=false:ef.preventDefault();I("Proxy form debug: sending lead");dY(eb,ed,function(){HTMLFormElement.prototype.submit.call(ee)})};var dU=function(ed,ec){var eb=d3(null,ec);if(!d6(eb,ec)){return}dY(eb,ec)};var dY=function(eb,ee,eg){var ef={};var ed=dZ(ee.crm)&&ee.crm.hasOwnProperty("is_enabled");var ec=ed?ee.crm.is_enabled:true;ef.leadName=ee.hasOwnProperty("lead_name")?ee.lead_name:"Новый лид с формы "+ee.title;ef.formTitle=ee.title;ef.name=eb.name;ef.phone=eb.phone;ef.email=eb.email;ef.text=eb.comment;ef.fields=eb.fields;ef.placeholders_data=eb.placeholdersData;ef.is_need_callback=ee.is_need_callback>0?1:0;ef.is_skip_sending=!ec;d0.roistatGoal.reach(ef,eg)};var dZ=function(eb){return(typeof eb==="number"&&!isNaN(eb))||(typeof eb==="string"&&eb!=="")||(typeof eb==="object"&&eb!==null)||(typeof eb==="boolean"&&eb)||bD(eb)};var d6=function(eb,ed){var ec=[],ef=["name","email","phone","comment"];r(ef,function(eg){if(ed.hasOwnProperty(eg)&&ed[eg].required>0){ec.push(eg)}});if(bD(ed.fields)){r(ed.fields,function(eg){if(eg.required>0){ec.push(eg)}})}var ee=true;r(ec,function(eg){if(!eb.hasOwnProperty(eg)||!dZ(eb[eg])){ee=false}});return ee};var d3=function(ed,ec){var eb={};eb.name=ec.name?d2(ed,ec.name.value,ec.name.type):"";eb.phone=ec.phone?d2(ed,ec.phone.value,ec.phone.type):"";eb.email=ec.email?d2(ed,ec.email.value,ec.email.type):"";eb.comment=ec.comment?d2(ed,ec.comment.value,ec.comment.type):"";eb.fields={};eb.placeholdersData={orderPage:cK};if(bD(ec.fields)){r(ec.fields,function(ee){eb.fields[ee.name]=d2(ed,ee.value,ee.type)})}return eb};var d2=function(ec,ef,eb){switch(eb){case"plain":return ef||"";case"input":var ee=ec.querySelector('input[name="'+ef+'"]');return ee?ee.value:"";case"js":try{return(new Function(ef))()}catch(ed){return""}}};var d7=function(){d8("init");if(aR()){d8("Shut down because only online chat need to be inited");return}if(!d0.roistat.proxyForms.enabled){d8("disabled");return}dX();d1()};var dR=function(ee,ec){if(typeof Element!=="undefined"&&Element.prototype.matches){var eb=ee.matches(ec);
if(!eb){return ee.closest(ec)?ee.closest(ec).matches(ec):false}return eb}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ef=ee.matchesSelector(ec);if(!ef){return ee.closest(ec)?ee.closest(ec).matches(ec):false}return ef}else{if(d4.querySelectorAll){var eg=d4.querySelectorAll(ec);for(var ed=0;ed<eg.length;ed++){if(eg[ed]===ee){return true}}return false}}}return false};cM(d7);d0.roistatSaveProxyFormSettings=d5})(cw,M);(function R(){if(cw.onRoistatAllModulesLoaded!==bP&&typeof cw.onRoistatAllModulesLoaded==="function"){A("onRoistatAllModulesLoaded: call");cw.onRoistatAllModulesLoaded()}})();(function bf(dX,d0,dU){var e=function(){return ct.get(av)*1>0};var dZ=function(d6){A("Request listener: "+d6)};var d5=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var dY=/^[^\s]+[@][^\s]+$/g;var dT=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dS=function dS(){dZ("listen");if(dX.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function d8(eb){var ea=this;d1(ea.responseURL,eb,function(){ea.oldSend(eb)})}XMLHttpRequest.prototype.send=d8}if(dX.ActiveXObject){var d7=d9;function d9(ec){var ea=new d7(ec);var ed={};if(ec.toLowerCase()==="msxml2.xmlhttp"){ed={_ax:ea,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var eb="";ed._onReadyStateChange=function(){var ee=ed;return function(){ee.readyState=ee._ax.readyState;if(ee.readyState===4){ee.responseText=ee._ax.responseText;ee.responseXml=ee._ax.responseXml;ee.status=ee._ax.status;ee.statusText=ee._ax.statusText}if(ee.onReadyStateChange){ee.onReadyStateChange()}}}();ed.open=function(ei,eg,eh,ee,ef){eb=eg;eh=(eh!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ei,eg,eh,ee,ef)};ed.send=function(ee){var ef=this;d1(eb,ee,function(){this._ax.send(ee)})}}else{ed=ea}return ed}dX.ActiveXObject=d9}if(dX.fetch){var d6=fetch;fetch=function(ea,eb){d1(ea.url,eb||{});return d6(ea,eb||{})}}dX.addEventListener("submit",function(ed){var ef=ed.target.elements;var ee={};for(var ec=0;ec<ef.length;ec++){var eb=ef[ec];var ea=eb.getAttribute("name");ee[ea]=eb.value}d1("",ee)})};function dV(d6){var d9={};if(d6.length===0){return d9}var d8=d6.split("?");if(d8.length<2){return d9}var d7=d8[1];d9=dR(d7);return d9}function dR(d7){var d8=d7.split("&"),ea={};for(var d6=0;d6<d8.length;d6++){var d9=d8[d6].split("=");if(d9.length<2){continue}ea[d9[0]]=d9[1]}return ea}function d3(en){dZ("data: "+JSON.stringify(en));var eg={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var ed={email:"",phone:"",name:""};for(var d6 in eg){var ej=eg[d6];for(var ei in ej){if(ej.hasOwnProperty(ei)){if(en.hasOwnProperty(ej[ei])){ed[d6]=en[ej[ei]];break}}}}dZ("new data: "+JSON.stringify(ed));var d8=ed.phone.length===0;var ec=ed.email.length===0;if(!d8&&!ec){return ed}var d7=new RegExp(dY);var eb=new RegExp(d5);var ee=Object.keys(en);for(var ek=0;ek<ee.length;ek++){var eh=decodeURIComponent(String(en[ee[ek]]));if(ec){var d9=eh.match(d7);if(d9&&d9.length>0){var ef=ed.email;ed.email=d9[0];dZ("parsing email, before: "+ef+", after: "+ed.email)}}if(d8){var em=eh.replace(/[\s-.()+*_—:;'"`]/g,"");var el=em.match(eb);if(el&&el.length>0){var ea=ed.phone;ed.phone=eh;dZ("parsing phone, before: "+ea+", after: "+ed.phone)}}}return ed}var dW=function(d6){var d7=bi(d6);return !aB(dT,d7)};function d1(d8,d7,d6){if(d8.length>0&&!dW(d8)){return}var ea=dV(d8);var ec=d7;if(typeof ec==="string"){ec=dR(ec)}dZ("data before parsing "+JSON.stringify({get:ea,post:ec}));var eb=d3(ea);var d9=d3(ec);dZ("data after parsing "+JSON.stringify({get:eb,post:d9}));d2(eb,d9,d6)}function d2(d6,d8,ec){var eb=d6.email.length>0?d6.email:d8.email;var d7=d6.phone.length>0?d6.phone:d8.phone;var ea=d6.name.length>0?d6.name:d8.name;if(eb.length==0&&d7.length==0){ec();return}setTimeout(function(){ec()},100);var d9={leadName:"Автоматический лид с сайта",name:ea,phone:d7,email:eb,is_skip_sending:1};dZ("phone or email is not empty, reaching goal "+JSON.stringify(d9));roistatGoal.reach(d9)}(function d4(){if(!e()){dZ("disabled, skip");return}dS()})()})(cw,M,bP)})(window,document,undefined);